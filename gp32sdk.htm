<html><head><style type="text/css">
<!--
	.goohl0{color:black;background-color:#ffff66}
	.goohl1{color:black;background-color:#A0FFFF}
	.goohl2{color:black;background-color:#99ff99}
	.goohl3{color:black;background-color:#ff9999}
-->
</style><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="CreationDate" content="D:20020617181527"><meta name="Producer" content="Acrobat PDFWriter 5.0 Windows NT      
&lt;title&gt;(GP32 Basic Manual for ARM SDT Developer) Version 2.1.5&lt;/title&gt;
&lt;/head&gt;&lt;body  bgcolor=#ffffff vlink=" blue="" link="blue"></head><body><table border="1" width="100%"><tbody><tr><td><table color="#ffffff" bgcolor="#ffffff" border="1" cellpadding="10" cellspacing="0" width="100%"><tbody><tr><td><font color="black" face="arial,sans-serif" size="-1">Ceci est la version HTML du fichier <a href="http://dream-world.metagames-fr.com/GP32/startup.pdf"><font color="blue">http://dream-world.metagames-fr.com/GP32/startup.pdf</font></a>.<br> Lorsque <b><font color="#0039b6">G</font> <font color="#c41200">o</font> <font color="#f3c518">o</font> <font color="#0039b6">g</font> <font color="#30a72f">l</font> <font color="#c41200">e</font></b> explore le Web, il crée automatiquement une version HTML des documents récupérés.<br>Pour créer un lien avec cette page ou l'inclure dans vos favoris/signets, utilisez l'adresse suivante : <code>http://www.google.com/search?q=cache:CuoEoYqF7PcJ:dream-world.metagames-fr.com/GP32/startup.pdf+gp32+sdk+documentation+.doc&amp;hl=fr&amp;client=firefox-a</code>.</font><br><br><center><font size="-2"><i>Google n'est ni affilié aux auteurs de cette page ni responsable de son contenu.</i></font></center></td></tr>
<tr><td>
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><font color="black" face="arial,sans-serif" size="-1">Les termes de recherche suivants ont été mis en valeur :&nbsp;</font></td><td bgcolor="#ffff66"><b><font color="black" face="arial,sans-serif" size="-1">gp32&nbsp;</font></b></td><td bgcolor="#a0ffff"><b><font color="black" face="arial,sans-serif" size="-1">sdk&nbsp;</font></b></td><td bgcolor="#99ff99"><b><font color="black" face="arial,sans-serif" size="-1">documentation&nbsp;</font></b></td><td bgcolor="#ff9999"><b><font color="black" face="arial,sans-serif" size="-1">doc&nbsp;</font></b></td></tr></tbody></table>
</td></tr></tbody></table></td></tr></tbody></table>
<hr>






<table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="1"><b>Page 1</b></a></font></td></tr></tbody></table><font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 444px; left: 176px;"><nobr><b>(<b><span class="goohl0">GP32</span></b> Basic Manual for ARM SDT Developer)</b></nobr></div>
<div style="position: absolute; top: 552px; left: 371px;"><nobr><b>Version 2.1.5</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 1081px; left: 603px;"><nobr><b>April, 1, 2002</b></nobr></div>
<div style="position: absolute; top: 1108px; left: 603px;"><nobr><b>Version: 2.1.5</b></nobr></div>
<div style="position: absolute; top: 1135px; left: 396px;"><nobr><b>Developed by Achi Jung &amp; Ji-Hyeon Lim</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 1198px; left: 127px;"><nobr><b>Unauthorized use of the contents of this manual is prohibited. <b><span class="goohl0">GP32</span></b> is the registered trademark of </b></nobr></div>
<div style="position: absolute; top: 1228px; left: 127px;"><nobr><b>Game  Park,  Inc.  Please  register  in  order  to  acquire  the  updated  manual  as  soon  as  possible. </b></nobr></div>
<div style="position: absolute; top: 1258px; left: 127px;"><nobr><b>Windows and Visual C++ is the registered trademark of Microsoft.</b></nobr></div>
</span></font>

<div style="position: absolute; top: 1438px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="2"><b>Page 2</b></a></font></td></tr></tbody></table></div><font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 1616px; left: 344px;"><nobr><b>Table of Contents</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 1716px; left: 158px;"><nobr><b>1. Version Overview</b></nobr></div>
<div style="position: absolute; top: 1770px; left: 158px;"><nobr><b>2. <b><span class="goohl1">SDK</span></b> Overview </b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 1826px; left: 158px;"><nobr><b>3.</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 1824px; left: 185px;"><nobr><b><b><span class="goohl0">GP32</span></b> Development Environment</b></nobr></div>
<div style="position: absolute; top: 1863px; left: 185px;"><nobr><b>3-1.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 1865px; left: 239px;"><nobr><b>Development Environment Configuration</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 1890px; left: 185px;"><nobr><b>3-2.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 1892px; left: 239px;"><nobr><b>Starting APM</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 1917px; left: 185px;"><nobr><b>3-3.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 1919px; left: 239px;"><nobr><b>ADW/Multi-ICE Environment Configurations</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 1944px; left: 185px;"><nobr><b>3-4.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 1946px; left: 239px;"><nobr><b>Connecting ADW to <b><span class="goohl0">GP32</span></b></b></nobr></div>
<div style="position: absolute; top: 2020px; left: 158px;"><nobr><b>4.</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 2018px; left: 185px;"><nobr><b>Graphic System (I)</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2056px; left: 185px;"><nobr><b>4-1.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2061px; left: 239px;"><nobr><b>Overview</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2083px; left: 185px;"><nobr><b>4-2.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2088px; left: 239px;"><nobr><b>Creating LCD Screen Surface </b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2110px; left: 185px;"><nobr><b>4-3.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2115px; left: 239px;"><nobr><b>8Bit Palette Mode / 16Bit True Color Mode</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2137px; left: 185px;"><nobr><b>4-4.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2142px; left: 239px;"><nobr><b>Creating Double Surface</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2164px; left: 185px;"><nobr><b>4-5.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2169px; left: 239px;"><nobr><b>Character Output</b></nobr></div>
<div style="position: absolute; top: 2242px; left: 158px;"><nobr><b>5.</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 2240px; left: 185px;"><nobr><b>Input System</b></nobr></div>
<div style="position: absolute; top: 2279px; left: 181px;"><nobr><b>5-1.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2281px; left: 235px;"><nobr><b>Overview</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 2306px; left: 181px;"><nobr><b>5-2.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2308px; left: 235px;"><nobr><b>Joystick and Function Button Input </b></nobr></div>
<div style="position: absolute; top: 2377px; left: 158px;"><nobr><b>6.</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 2375px; left: 185px;"><nobr><b>Graphic System (II)</b></nobr></div>
<div style="position: absolute; top: 2414px; left: 185px;"><nobr><b>6-1.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2416px; left: 239px;"><nobr><b>Drawing Sprite (1)</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 21px; font-family: Times;">
<div style="position: absolute; top: 2441px; left: 185px;"><nobr><b>6-2.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2443px; left: 239px;"><nobr><b>Drawing Sprite (2)</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2515px; left: 158px;"><nobr><b>7. Sound System</b></nobr></div>
</span></font>

<div style="position: absolute; top: 2701px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="3"><b>Page 3</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 2857px; left: 185px;"><nobr><b>7-1. Overview</b></nobr></div>
<div style="position: absolute; top: 2891px; left: 185px;"><nobr><b>7-2. PCM Sound Output</b></nobr></div>
<div style="position: absolute; top: 2923px; left: 187px;"><nobr><b>7-3. PCM Sound Mixing</b></nobr></div>
</span></font>
<font face="Times" size="4"><span style="font-size: 25px; font-family: Times;">
<div style="position: absolute; top: 2995px; left: 158px;"><nobr><b>8. Appendix</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 3044px; left: 178px;"><nobr><b>8-1. Getting Started with GPSDK bv20</b></nobr></div>
<div style="position: absolute; top: 3076px; left: 178px;"><nobr><b>8-2. The file format used by <b><span class="goohl0">GP32</span></b> </b></nobr></div>
</span></font>

<div style="position: absolute; top: 3964px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="4"><b>Page 4</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4120px; left: 127px;"><nobr><b>1. Version Overview</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 4720px; left: 158px;"><nobr>Version History</nobr></div>
<div style="position: absolute; top: 4786px; left: 158px;"><nobr>2001.1  : GPSDK Version 1.0 release </nobr></div>
<div style="position: absolute; top: 4786px; left: 425px;"><nobr>(ARM7TDMI CPU)</nobr></div>
<div style="position: absolute; top: 4819px; left: 158px;"><nobr>2001.4  : GPSDK Version 1.1 release</nobr></div>
<div style="position: absolute; top: 4853px; left: 158px;"><nobr>2001.10  : GPSDK Version 2.0.0 release</nobr></div>
<div style="position: absolute; top: 4853px; left: 425px;"><nobr>(ARM920T CPU)</nobr></div>
<div style="position: absolute; top: 4885px; left: 158px;"><nobr>2001.11  : GPSDK Version 2.0.1 release</nobr></div>
<div style="position: absolute; top: 4918px; left: 158px;"><nobr>2001.12  : GPSDK Version 2.1.0 release</nobr></div>
<div style="position: absolute; top: 4952px; left: 158px;"><nobr>2002.4 : GPSDK Version 2.1.5 release</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 4175px; left: 322px;"><nobr><b>GPSDK  2 . 1 . 5</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 4234px; left: 170px;"><nobr><b>Major Version Number</b></nobr></div>
<div style="position: absolute; top: 4261px; left: 170px;"><nobr>The  major  version  numbers</nobr></div>
<div style="position: absolute; top: 4288px; left: 170px;"><nobr>should be incremented on every </nobr></div>
<div style="position: absolute; top: 4315px; left: 170px;"><nobr>change to  H/W  or  significant </nobr></div>
<div style="position: absolute; top: 4342px; left: 170px;"><nobr>modification  to  <b><span class="goohl1">SDK</span></b>.  <b><span class="goohl0">GP32</span></b></nobr></div>
<div style="position: absolute; top: 4369px; left: 170px;"><nobr>should be denoted with an even </nobr></div>
<div style="position: absolute; top: 4396px; left: 170px;"><nobr>number.</nobr></div>
<div style="position: absolute; top: 4464px; left: 260px;"><nobr><b>Minor Version Number</b></nobr></div>
<div style="position: absolute; top: 4491px; left: 260px;"><nobr>The minor version number should be incremented on large or</nobr></div>
<div style="position: absolute; top: 4518px; left: 260px;"><nobr>significant update to the libraries. When the minor version is</nobr></div>
<div style="position: absolute; top: 4545px; left: 260px;"><nobr>updated, the update has to be made to the overall GPSDK.</nobr></div>
<div style="position: absolute; top: 4234px; left: 538px;"><nobr><b>Patch Version Number</b></nobr></div>
<div style="position: absolute; top: 4261px; left: 538px;"><nobr>The  patch  version  numbers</nobr></div>
<div style="position: absolute; top: 4288px; left: 538px;"><nobr>should  be  increased  on  every </nobr></div>
<div style="position: absolute; top: 4315px; left: 538px;"><nobr>update to a specific file in the </nobr></div>
<div style="position: absolute; top: 4342px; left: 538px;"><nobr>GPSDK  <b><span class="goohl2">documentation</span></b>.  A</nobr></div>
<div style="position: absolute; top: 4369px; left: 538px;"><nobr>necessary  update  should  be</nobr></div>
<div style="position: absolute; top: 4396px; left: 538px;"><nobr>made only to the subject file.</nobr></div>
</span></font>

<div style="position: absolute; top: 5227px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="5"><b>Page 5</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 5383px; left: 127px;"><nobr><b>2. <b><span class="goohl1">SDK</span></b> Overview</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 5442px; left: 127px;"><nobr>The following diagram explains you how <b><span class="goohl0">GP32</span></b> Software development module is configured.</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 5954px; left: 336px;"><nobr><b>&lt;Figure 1&gt; <b><span class="goohl1">SDK</span></b> Configuration</b></nobr></div>
<div style="position: absolute; top: 6007px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> software development module consists of Basic <b><span class="goohl1">SDK</span></b>(Software Development Kit) and </nobr></div>
<div style="position: absolute; top: 6034px; left: 127px;"><nobr>Advanced <b><span class="goohl1">SDK</span></b>. In addition, an API Mapping Library is provided to port to other hardware </nobr></div>
<div style="position: absolute; top: 6061px; left: 127px;"><nobr>environments, enabling <b><span class="goohl0">GP32</span></b>  to  maintain  compatibility  with  respect  to  <b><span class="goohl0">GP32</span></b>  dedicated</nobr></div>
<div style="position: absolute; top: 6088px; left: 127px;"><nobr>software source code and resource level. </nobr></div>
<div style="position: absolute; top: 6142px; left: 127px;"><nobr>The  basic <b><span class="goohl0">GP32  </span></b><b><span class="goohl1">SDK</span></b>  comprises  API(Application  Program  Interface)  Library  functions  for </nobr></div>
<div style="position: absolute; top: 6169px; left: 127px;"><nobr>graphics, sound, key input, microphone, system, memory management, extra communications </nobr></div>
<div style="position: absolute; top: 6196px; left: 127px;"><nobr>and storage management. These are basic and powerful libraries required to produce programs</nobr></div>
<div style="position: absolute; top: 6223px; left: 127px;"><nobr>easily on <b><span class="goohl0">GP32</span></b> hardware.</nobr></div>
<div style="position: absolute; top: 6277px; left: 127px;"><nobr>The  advanced  <b><span class="goohl1">SDK</span></b>  provides  real-time  multi-<font color="#ff00ff" face="Times">tasking </font>operating  system  and  related</nobr></div>
<div style="position: absolute; top: 6304px; left: 127px;"><nobr>communication  protocol  stack,  3D  graphic  library,  and  other  advanced libraries.  These  are</nobr></div>
<div style="position: absolute; top: 6331px; left: 127px;"><nobr>useful in developing stronger and more sophisticated applied software. </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 5485px; left: 390px;"><nobr><b>Application</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 5544px; left: 318px;"><nobr><b>Basic <b><span class="goohl1">SDK</span></b></b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 5584px; left: 172px;"><nobr>Graphic</nobr></div>
<div style="position: absolute; top: 5611px; left: 172px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5585px; left: 253px;"><nobr>Sound</nobr></div>
<div style="position: absolute; top: 5612px; left: 253px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5584px; left: 500px;"><nobr>Mike</nobr></div>
<div style="position: absolute; top: 5611px; left: 500px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5649px; left: 170px;"><nobr>Memory</nobr></div>
<div style="position: absolute; top: 5676px; left: 170px;"><nobr>Management</nobr></div>
<div style="position: absolute; top: 5703px; left: 170px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5812px; left: 386px;"><nobr>API Mapping Library</nobr></div>
<div style="position: absolute; top: 5812px; left: 190px;"><nobr><b><b><span class="goohl0">GP32</span></b> Hardware</b></nobr></div>
<div style="position: absolute; top: 5874px; left: 388px;"><nobr>Windows OS based Hardware</nobr></div>
<div style="position: absolute; top: 5901px; left: 388px;"><nobr>- PC, PDA</nobr></div>
<div style="position: absolute; top: 5869px; left: 621px;"><nobr>Linux Hardware</nobr></div>
<div style="position: absolute; top: 5585px; left: 338px;"><nobr>Key Input</nobr></div>
<div style="position: absolute; top: 5612px; left: 338px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5585px; left: 425px;"><nobr>System</nobr></div>
<div style="position: absolute; top: 5612px; left: 425px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5652px; left: 288px;"><nobr>Extra Communication</nobr></div>
<div style="position: absolute; top: 5679px; left: 288px;"><nobr>Library</nobr></div>
<div style="position: absolute; top: 5650px; left: 458px;"><nobr>Storage</nobr></div>
<div style="position: absolute; top: 5677px; left: 458px;"><nobr>Management</nobr></div>
<div style="position: absolute; top: 5704px; left: 458px;"><nobr>Library</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 5545px; left: 595px;"><nobr>Advanced <b><span class="goohl1">SDK</span></b>*</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 5671px; left: 663px;"><nobr>OS </nobr></div>
<div style="position: absolute; top: 5698px; left: 663px;"><nobr>Kernel</nobr></div>
<div style="position: absolute; top: 5601px; left: 594px;"><nobr>3D </nobr></div>
<div style="position: absolute; top: 5628px; left: 594px;"><nobr>Graphic</nobr></div>
<div style="position: absolute; top: 5606px; left: 662px;"><nobr>Protocol </nobr></div>
<div style="position: absolute; top: 5633px; left: 662px;"><nobr>Stack</nobr></div>
<div style="position: absolute; top: 5671px; left: 602px;"><nobr>Others</nobr></div>
</span></font>

<div style="position: absolute; top: 6490px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="6"><b>Page 6</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 6642px; left: 127px;"><nobr>Furthermore, AML(API Mapping Library) provides a convenient and powerful solution to port </nobr></div>
<div style="position: absolute; top: 6669px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> dedicated applied programs made by using the 2 SDKs  mentioned above to a different </nobr></div>
<div style="position: absolute; top: 6696px; left: 127px;"><nobr>hardware environment with respect to the source.</nobr></div>
<div style="position: absolute; top: 6723px; left: 127px;"><nobr>This manual details the basic knowledge needed to develop game application programmed for </nobr></div>
<div style="position: absolute; top: 6750px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> hardware based on the Basic <b><span class="goohl1">SDK</span></b>.</nobr></div>
<div style="position: absolute; top: 6804px; left: 127px;"><nobr>The following is an overview of <b><span class="goohl0">GP32</span></b> system performance.</nobr></div>
<div style="position: absolute; top: 6858px; left: 127px;"><nobr>The <b><span class="goohl0">GP32</span></b> graphic system has a resolution of 320x240 and also supports 8bit Palette Mode and </nobr></div>
<div style="position: absolute; top: 6885px; left: 127px;"><nobr>16bit True Color Mode.</nobr></div>
<div style="position: absolute; top: 6939px; left: 127px;"><nobr>This is the highest resolution ever generated for handheld game systems. Considering the future </nobr></div>
<div style="position: absolute; top: 6966px; left: 127px;"><nobr>resolution(640x480) for handhelds, it is the main factor making porting easier and facilitating </nobr></div>
<div style="position: absolute; top: 6993px; left: 127px;"><nobr>porting to diverse hardware.</nobr></div>
<div style="position: absolute; top: 7047px; left: 127px;"><nobr>Regarding sound, MIDI is supported for background sound providing high sound quality with </nobr></div>
<div style="position: absolute; top: 7074px; left: 127px;"><nobr>low data volume. Thus, this system scores high among games. PCM sound is also provided </nobr></div>
<div style="position: absolute; top: 7101px; left: 127px;"><nobr>which supports 16bit sound in diverse sampling data(11.025kHz, 22.5kHz, 44kHz) on stereo. It </nobr></div>
<div style="position: absolute; top: 7128px; left: 127px;"><nobr>can mix and output up to 4 channels simultaneously on real-time.</nobr></div>
<div style="position: absolute; top: 7182px; left: 127px;"><nobr>The main features of <b><span class="goohl0">GP32</span></b> game system is as follows:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 14px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 7210px; left: 135px;"><nobr><b>1. 320x240 resolution, 65,536 concurrent colors</b></nobr></div>
<div style="position: absolute; top: 7237px; left: 135px;"><nobr><b>2. 8bit and 16bit PCM stereo sound, 4 channels mixing and output in real-time </b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 7263px; left: 127px;"><nobr>Another  feature  is  SMC(Smart  Media  Card)  that  makes  large-volume  storage  management</nobr></div>
<div style="position: absolute; top: 7290px; left: 127px;"><nobr>possible. As it supports DOS file system, large-volume games can be produced linked with 8MB </nobr></div>
<div style="position: absolute; top: 7317px; left: 127px;"><nobr>high-speed internal SDRAM.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 14px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 7345px; left: 135px;"><nobr><b>3. SMC(Smart Media Card) – 16MB is basic. 32MB and 64MB are possible.</b></nobr></div>
<div style="position: absolute; top: 7372px; left: 135px;"><nobr><b>4. File system linking SMC with 8MB high-speed internal SDRAM, storage allocation </b></nobr></div>
<div style="position: absolute; top: 7399px; left: 162px;"><nobr><b>function</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 7425px; left: 127px;"><nobr>C language is also supported, which makes program development much easier.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 14px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 7453px; left: 135px;"><nobr><b>5. C language development</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 7479px; left: 127px;"><nobr>C language is the basis of development, so developers must be informed.</nobr></div>
</span></font>

<div style="position: absolute; top: 7753px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="7"><b>Page 7</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 7903px; left: 127px;"><nobr><b>3. <b><span class="goohl0">GP32</span></b> Development Environment</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 7961px; left: 127px;"><nobr>The following seven items comprising  the development  environment  shall  be  provided  for  a</nobr></div>
<div style="position: absolute; top: 7988px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> application software developer.</nobr></div>
<div style="position: absolute; top: 8038px; left: 145px;"><nobr>No.</nobr></div>
<div style="position: absolute; top: 8038px; left: 198px;"><nobr>Item</nobr></div>
<div style="position: absolute; top: 8038px; left: 284px;"><nobr>Definition</nobr></div>
<div style="position: absolute; top: 8056px; left: 145px;"><nobr>1</nobr></div>
<div style="position: absolute; top: 8056px; left: 198px;"><nobr><b><span class="goohl0">GP32</span></b></nobr></div>
<div style="position: absolute; top: 8056px; left: 284px;"><nobr>Game Device</nobr></div>
<div style="position: absolute; top: 8074px; left: 145px;"><nobr>2</nobr></div>
<div style="position: absolute; top: 8074px; left: 198px;"><nobr>GPSDK</nobr></div>
<div style="position: absolute; top: 8074px; left: 284px;"><nobr>Development Software Library and API Layer for VC++</nobr></div>
<div style="position: absolute; top: 8092px; left: 145px;"><nobr>3</nobr></div>
<div style="position: absolute; top: 8092px; left: 198px;"><nobr>Multi-ICE </nobr></div>
<div style="position: absolute; top: 8110px; left: 198px;"><nobr>or MAJIC</nobr></div>
<div style="position: absolute; top: 8092px; left: 284px;"><nobr>Hardware to load software already developed in PC environment </nobr></div>
<div style="position: absolute; top: 8110px; left: 284px;"><nobr>to <b><span class="goohl0">GP32</span></b> (Option)</nobr></div>
<div style="position: absolute; top: 8128px; left: 145px;"><nobr>4</nobr></div>
<div style="position: absolute; top: 8128px; left: 198px;"><nobr>Interface </nobr></div>
<div style="position: absolute; top: 8144px; left: 198px;"><nobr>board</nobr></div>
<div style="position: absolute; top: 8128px; left: 284px;"><nobr>Connecting board between Multi-ICE or MAJIC and <b><span class="goohl0">GP32</span></b></nobr></div>
<div style="position: absolute; top: 8144px; left: 284px;"><nobr>(Option)</nobr></div>
<div style="position: absolute; top: 8162px; left: 145px;"><nobr>5</nobr></div>
<div style="position: absolute; top: 8162px; left: 198px;"><nobr>ARM SDT </nobr></div>
<div style="position: absolute; top: 8179px; left: 198px;"><nobr>2.5 Tools</nobr></div>
<div style="position: absolute; top: 8197px; left: 198px;"><nobr>Or</nobr></div>
<div style="position: absolute; top: 8214px; left: 198px;"><nobr>ADS 1.2</nobr></div>
<div style="position: absolute; top: 8162px; left: 284px;"><nobr>Development  software  operating  on  the  PC  such  as  ARM</nobr></div>
<div style="position: absolute; top: 8179px; left: 284px;"><nobr>Assembler, C/C++ Compiler and Linker</nobr></div>
<div style="position: absolute; top: 8232px; left: 145px;"><nobr>6</nobr></div>
<div style="position: absolute; top: 8232px; left: 198px;"><nobr>ADW</nobr></div>
<div style="position: absolute; top: 8232px; left: 284px;"><nobr>ARM  Debugger  for  Windows  (Debugging  software  operating  on </nobr></div>
<div style="position: absolute; top: 8249px; left: 284px;"><nobr>PC) (Option)</nobr></div>
<div style="position: absolute; top: 8267px; left: 145px;"><nobr>7</nobr></div>
<div style="position: absolute; top: 8267px; left: 198px;"><nobr><b><span class="goohl0">GP32</span></b> Dev </nobr></div>
<div style="position: absolute; top: 8285px; left: 198px;"><nobr>Utility</nobr></div>
<div style="position: absolute; top: 8267px; left: 284px;"><nobr>Application program, running on Windows, which provides various </nobr></div>
<div style="position: absolute; top: 8285px; left: 284px;"><nobr>functionalities including data conversion, transmission, SMC read </nobr></div>
<div style="position: absolute; top: 8302px; left: 284px;"><nobr>and write and others.</nobr></div>
<div style="position: absolute; top: 8353px; left: 127px;"><nobr>The  basic  version  2.1.5  of  <b><span class="goohl0">GP32  </span></b><b><span class="goohl1">SDK</span></b>  has  been  illustrated  as  shown  below  for  your  clear </nobr></div>
<div style="position: absolute; top: 8380px; left: 127px;"><nobr>understanding. </nobr></div>
<div style="position: absolute; top: 8866px; left: 325px;"><nobr><b>&lt;Figure 2-1&gt; GPSDK_BV20 Folder</b></nobr></div>
<div style="position: absolute; top: 8467px; left: 228px;"><nobr><b>GPSDK</b></nobr></div>
<div style="position: absolute; top: 8463px; left: 412px;"><nobr><b><b><span class="goohl3">DOC</span></b></b></nobr></div>
<div style="position: absolute; top: 8523px; left: 414px;"><nobr><b>GPINCLUDE</b></nobr></div>
<div style="position: absolute; top: 8581px; left: 415px;"><nobr><b>GPLIB</b></nobr></div>
<div style="position: absolute; top: 8646px; left: 415px;"><nobr><b>GPWIN_LAYER</b></nobr></div>
<div style="position: absolute; top: 8708px; left: 417px;"><nobr><b>TARGET</b></nobr></div>
<div style="position: absolute; top: 8779px; left: 416px;"><nobr><b>MISC</b></nobr></div>
<div style="position: absolute; top: 8840px; left: 422px;"><nobr><b>UTIL</b></nobr></div>
<div style="position: absolute; top: 8645px; left: 566px;"><nobr><b>GAME … …</b></nobr></div>
</span></font>

<div style="position: absolute; top: 9016px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="8"><b>Page 8</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 9197px; left: 127px;"><nobr>GPSDK \ <b><span class="goohl3">DOC</span></b></nobr></div>
<div style="position: absolute; top: 9224px; left: 158px;"><nobr>This  folder  contains  guidelines  and  references  designed  to  help  a  developer  creating</nobr></div>
<div style="position: absolute; top: 9251px; left: 158px;"><nobr>application programs using GPSDK.</nobr></div>
<div style="position: absolute; top: 9305px; left: 127px;"><nobr>GPSDK \ GPINCLUDE</nobr></div>
<div style="position: absolute; top: 9332px; left: 158px;"><nobr>This folder includes GPSDK API header files. The headers should be included when <b><span class="goohl0">GP32</span></b> </nobr></div>
<div style="position: absolute; top: 9359px; left: 158px;"><nobr>is targeted.</nobr></div>
<div style="position: absolute; top: 9413px; left: 127px;"><nobr>GPSDK \ GPLIB</nobr></div>
<div style="position: absolute; top: 9440px; left: 156px;"><nobr>GPSDK API libraries contain ALF files and Object files with the .o extension. These </nobr></div>
<div style="position: absolute; top: 9467px; left: 156px;"><nobr>files can be imported for use when <b><span class="goohl0">GP32</span></b> is targeted.</nobr></div>
<div style="position: absolute; top: 9521px; left: 127px;"><nobr>GPSDK \ GPWIN_LAYER</nobr></div>
<div style="position: absolute; top: 9548px; left: 158px;"><nobr>This folder includes files required for you to develop application programs in Visual C++ tool </nobr></div>
<div style="position: absolute; top: 9575px; left: 158px;"><nobr>based on APM layer.</nobr></div>
<div style="position: absolute; top: 9629px; left: 158px;"><nobr>GPSDK \ GPWIN_LAYER \ GAME</nobr></div>
<div style="position: absolute; top: 9656px; left: 156px;"><nobr>This folder is designed to contain the actual application source codes.</nobr></div>
<div style="position: absolute; top: 9710px; left: 158px;"><nobr>GPSDK \ GPWIN_LAYER \ GAME \ EXAMPLES</nobr></div>
<div style="position: absolute; top: 9737px; left: 156px;"><nobr>This folder includes all the programming examples for both VCGP32 and VC++.</nobr></div>
<div style="position: absolute; top: 9791px; left: 158px;"><nobr>GPSDK \ GPWIN_LAYER \ GPINCLUDE_WIN</nobr></div>
<div style="position: absolute; top: 9818px; left: 156px;"><nobr>This folder contains completely separate header files for VC++ environment.</nobr></div>
<div style="position: absolute; top: 9872px; left: 158px;"><nobr>GPSDK \ GPWIN_LAYER \ GPLIB_WIN</nobr></div>
<div style="position: absolute; top: 9899px; left: 156px;"><nobr>This folder includes library files for VC++ environment.</nobr></div>
<div style="position: absolute; top: 9953px; left: 158px;"><nobr>GPSDK \ GPWIN_LAYER \ VIRTUAL_SMC</nobr></div>
<div style="position: absolute; top: 9980px; left: 156px;"><nobr>This  folder  saves  the  virtual  SMC  files  created for interface compatibility with SMC, the </nobr></div>
<div style="position: absolute; top: 10007px; left: 156px;"><nobr>external  storage  medium  for  <b><span class="goohl0">GP32</span></b>  when  you  develop  applications  in  VC++  based</nobr></div>
<div style="position: absolute; top: 10034px; left: 156px;"><nobr>environment.</nobr></div>
<div style="position: absolute; top: 10088px; left: 127px;"><nobr>GPSDK \ TARGET</nobr></div>
<div style="position: absolute; top: 10115px; left: 127px;"><nobr>This folder contains files necessary to control  the options relevant to environment setting when </nobr></div>
</span></font>

<div style="position: absolute; top: 10279px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="9"><b>Page 9</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 10433px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> is targeted.</nobr></div>
<div style="position: absolute; top: 10487px; left: 127px;"><nobr>GPSDK \ MISC</nobr></div>
<div style="position: absolute; top: 10514px; left: 127px;"><nobr>This folder includes other useful sources to develop applications such as streaming wave out </nobr></div>
<div style="position: absolute; top: 10541px; left: 127px;"><nobr>and <b><span class="goohl0">GP32</span></b> character input.</nobr></div>
<div style="position: absolute; top: 10595px; left: 127px;"><nobr>GPSDK \ UTIL</nobr></div>
<div style="position: absolute; top: 10622px; left: 127px;"><nobr>This folder contains a variety of utility and Config files required to develop applications on <b><span class="goohl0">GP32</span></b>.</nobr></div>
</span></font>

<div style="position: absolute; top: 11542px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="10"><b>Page 10</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 11693px; left: 127px;"><nobr><b>3.1 Development Environment Configuration</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 11750px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> ARM SDT developer should support the implementation of the following environment.</nobr></div>
<div style="position: absolute; top: 11804px; left: 158px;"><nobr>1. Windows 95/98/ME or Windows NT Workstation 4.0 or over</nobr></div>
<div style="position: absolute; top: 11831px; left: 158px;"><nobr>2. ARM SDT 2.5 or over</nobr></div>
<div style="position: absolute; top: 11858px; left: 158px;"><nobr>3. Multi-ICE or MAJIC (In Circuit Emulator)</nobr></div>
<div style="position: absolute; top: 11885px; left: 158px;"><nobr>4. Over 10Mbps of LAN environment (or Serial / Parallel Connection)</nobr></div>
<div style="position: absolute; top: 11939px; left: 127px;"><nobr><b>1) When MAJIC is used as an in circuit emulator,</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 11966px; left: 142px;"><nobr><b>Further details to follow soon.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 11993px; left: 127px;"><nobr><b>2) When Multi-ICE is used as an emulator,</b></nobr></div>
<div style="position: absolute; top: 12641px; left: 246px;"><nobr><b>&lt;Figure 2-2-1&gt; Development Environment Configuration</b></nobr></div>
<div style="position: absolute; top: 12498px; left: 558px;"><nobr>Interface Board</nobr></div>
<div style="position: absolute; top: 12171px; left: 318px;"><nobr>Windows 95/98 or over</nobr></div>
<div style="position: absolute; top: 12279px; left: 246px;"><nobr>APM2.exe </nobr></div>
<div style="position: absolute; top: 12279px; left: 451px;"><nobr>ADW.exe</nobr></div>
<div style="position: absolute; top: 12306px; left: 201px;"><nobr>(ARM Project Manager)   (ARM Debugger for Windows)</nobr></div>
<div style="position: absolute; top: 12384px; left: 345px;"><nobr><b>Multi-ICE</b></nobr></div>
<div style="position: absolute; top: 12411px; left: 313px;"><nobr>(In Circuit Emulator)</nobr></div>
<div style="position: absolute; top: 12489px; left: 431px;"><nobr>Pin Compatible</nobr></div>
<div style="position: absolute; top: 12516px; left: 438px;"><nobr>board</nobr></div>
<div style="position: absolute; top: 12384px; left: 624px;"><nobr><b><b><span class="goohl0">GP32</span></b></b></nobr></div>
<div style="position: absolute; top: 12487px; left: 231px;"><nobr><b>Power</b></nobr></div>
<div style="position: absolute; top: 12354px; left: 183px;"><nobr>Printer Cable</nobr></div>
</span></font>

<div style="position: absolute; top: 12805px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="11"><b>Page 11</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 12959px; left: 127px;"><nobr>Once you install ARM SDT 2.5 in Windows, each executable program for ARM Project Manager </nobr></div>
<div style="position: absolute; top: 12986px; left: 127px;"><nobr>and ARM Debugger for Windows is generated as shown in the figure 2-2-1. Also,  Multi-ICE </nobr></div>
<div style="position: absolute; top: 13013px; left: 127px;"><nobr>should be connected to PC using Printer Cable.  Notably, it is much convenient to separate the </nobr></div>
<div style="position: absolute; top: 13040px; left: 127px;"><nobr>power of JEENI and <b><span class="goohl0">GP32</span></b> from the existing power to connect to another power source like multi </nobr></div>
<div style="position: absolute; top: 13067px; left: 127px;"><nobr>tap. You shall install Multi-ICE Serve that comes with Multi-ICE and copy 2400.cfg provided by </nobr></div>
<div style="position: absolute; top: 13094px; left: 127px;"><nobr>GamePark  to  Multi-ICE  folder.  Then,  please  follow  below  instructions  to  initialize  Multi-ICE </nobr></div>
<div style="position: absolute; top: 13121px; left: 127px;"><nobr>Server. For further details, please refer to the Multi-ICE User’s Guide.</nobr></div>
<div style="position: absolute; top: 13175px; left: 135px;"><nobr>To summarize,</nobr></div>
<div style="position: absolute; top: 13202px; left: 135px;"><nobr>1. Install ARM SDT 2.5.</nobr></div>
<div style="position: absolute; top: 13229px; left: 135px;"><nobr>2. Install Multi-ICE Server.</nobr></div>
<div style="position: absolute; top: 13256px; left: 135px;"><nobr>3. Copy 2400.cfg to Multi-ICE folder.</nobr></div>
<div style="position: absolute; top: 13283px; left: 135px;"><nobr>4. Connect Multi-ICE to PC.</nobr></div>
<div style="position: absolute; top: 13310px; left: 135px;"><nobr>5. Execute and initialize Multi-ICE Server: </nobr></div>
<div style="position: absolute; top: 13337px; left: 165px;"><nobr>i)</nobr></div>
<div style="position: absolute; top: 13337px; left: 219px;"><nobr>Select the Start-up Option from the Settings menu bar,</nobr></div>
<div style="position: absolute; top: 13364px; left: 165px;"><nobr>ii)</nobr></div>
<div style="position: absolute; top: 13364px; left: 219px;"><nobr>Go to the Start-up Configuration in the Start-up Option,</nobr></div>
<div style="position: absolute; top: 13391px; left: 165px;"><nobr>iii)</nobr></div>
<div style="position: absolute; top: 13391px; left: 219px;"><nobr>Click on the Load Configuration</nobr></div>
<div style="position: absolute; top: 13418px; left: 165px;"><nobr>iv)</nobr></div>
<div style="position: absolute; top: 13418px; left: 219px;"><nobr>Load 2400.cfg from the Multi-ICE folder listed under the Loaded File</nobr></div>
</span></font>

<div style="position: absolute; top: 14068px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="12"><b>Page 12</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 14219px; left: 156px;"><nobr><b>3.2 Starting APM </b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 14276px; left: 127px;"><nobr><b>All the apj files fully explained below are located in the directory GPSDK \ GPWIN_LAYER </b></nobr></div>
<div style="position: absolute; top: 14303px; left: 127px;"><nobr><b>\ GAME \ EXAMPLES.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 14355px; left: 127px;"><nobr>In the EXAMPLE folder of Basic <b><span class="goohl0">GP32 </span></b><b><span class="goohl1">SDK</span></b>, you will find a folder named Ex_1_Sur and 3 </nobr></div>
<div style="position: absolute; top: 14382px; left: 127px;"><nobr>files inside it.</nobr></div>
<div style="position: absolute; top: 14464px; left: 142px;"><nobr><b>&lt;Figure 2-3&gt;</b></nobr></div>
<div style="position: absolute; top: 14490px; left: 135px;"><nobr>1. Ex_1.apj</nobr></div>
<div style="position: absolute; top: 14517px; left: 135px;"><nobr>2. Gpmain.c</nobr></div>
<div style="position: absolute; top: 14544px; left: 135px;"><nobr>3. Gpmain.h</nobr></div>
<div style="position: absolute; top: 14679px; left: 127px;"><nobr>Double click on Ex_1.apj to run ARM Project Manager. The project window of APM will be as </nobr></div>
<div style="position: absolute; top: 14706px; left: 127px;"><nobr>shown below (if ARM SDT 2.5 is installed). </nobr></div>
</span></font>

<div style="position: absolute; top: 15331px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="13"><b>Page 13</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 15511px; left: 321px;"><nobr><b>&lt;Figure 2-4&gt; APM Project Window</b></nobr></div>
<div style="position: absolute; top: 15564px; left: 127px;"><nobr>Here, select Debug from the Tree Item and Build Debug will show on the button at the bottom </nobr></div>
<div style="position: absolute; top: 15591px; left: 127px;"><nobr>of the window. Click on the Build Debug button in order to compile and link.</nobr></div>
<div style="position: absolute; top: 15618px; left: 127px;"><nobr>As shown below, a Debug folder will be created in the Ex_1_Sur folder and 3 object files and an </nobr></div>
<div style="position: absolute; top: 15645px; left: 127px;"><nobr>Ex_1.axf file will be created in the Debug folder.</nobr></div>
<div style="position: absolute; top: 16225px; left: 246px;"><nobr><b>&lt;Figure 2-5&gt; Newly Created Debug Folder and AXF File</b></nobr></div>
<div style="position: absolute; top: 16250px; left: 127px;"><nobr>The following diagram shows how to download the newly created Ex_1.axf file onto GP3 </nobr></div>
<div style="position: absolute; top: 16277px; left: 127px;"><nobr>through Multi-ICE using ADW(ARM Debugger for Windows) program.</nobr></div>
<div style="position: absolute; top: 16441px; left: 282px;"><nobr><b>&lt;Figure 2-6&gt; Creating AXF File through APM</b></nobr></div>
<div style="position: absolute; top: 16339px; left: 182px;"><nobr>APJ File and </nobr></div>
<div style="position: absolute; top: 16366px; left: 181px;"><nobr>Other Source </nobr></div>
<div style="position: absolute; top: 16393px; left: 209px;"><nobr>Files</nobr></div>
<div style="position: absolute; top: 16353px; left: 368px;"><nobr>Compile and Link </nobr></div>
<div style="position: absolute; top: 16380px; left: 381px;"><nobr>through APM</nobr></div>
<div style="position: absolute; top: 16339px; left: 593px;"><nobr>Create AXF File</nobr></div>
<div style="position: absolute; top: 16366px; left: 593px;"><nobr>(Download onto </nobr></div>
<div style="position: absolute; top: 16393px; left: 626px;"><nobr><b><span class="goohl0">GP32</span></b>)</nobr></div>
</span></font>

<div style="position: absolute; top: 16594px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="14"><b>Page 14</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 16745px; left: 127px;"><nobr><b>3.3 ADW/Multi-ICE Environment Configurations</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 16800px; left: 127px;"><nobr>Configuration for ADW to recognize Multi-ICE is required. How to configure is explained with </nobr></div>
<div style="position: absolute; top: 16827px; left: 127px;"><nobr>an example of using Multi-ICE.</nobr></div>
<div style="position: absolute; top: 16854px; left: 127px;"><nobr>Run ADW and the following message window will appear.</nobr></div>
<div style="position: absolute; top: 17044px; left: 213px;"><nobr><b>&lt;Figure 2-7&gt; Message Window when Running ADW (Select “No”)</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 17099px; left: 127px;"><nobr>First, click on  “No” in the above dialog box. Then,  from the  ADW  menu bar, go to Options-</nobr></div>
<div style="position: absolute; top: 17126px; left: 127px;"><nobr>&gt;Configure <b>Debugger </b>to bring up the <b>Debugger Configuration box</b>.</nobr></div>
<div style="position: absolute; top: 17612px; left: 290px;"><nobr><b>&lt;Figure 2-8-1&gt; Debugger Configuration Box</b></nobr></div>
<div style="position: absolute; top: 17639px; left: 127px;"><nobr>If the “Multi-ICE”item cannot be found in the Target Environment combo list, select “Add”in the </nobr></div>
<div style="position: absolute; top: 17666px; left: 127px;"><nobr>Debugger Configuration Box and open Multi-ICE.dll in the Multi-ICE folder.</nobr></div>
</span></font>

<div style="position: absolute; top: 17857px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="15"><b>Page 15</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 18416px; left: 290px;"><nobr><b>&lt;Figure 2-8-2&gt; Debugger Configuration Box</b></nobr></div>
<div style="position: absolute; top: 18443px; left: 127px;"><nobr>After that, select the “Multi-ICE”item in  the Target Environment combo list. Once you click on </nobr></div>
<div style="position: absolute; top: 18470px; left: 127px;"><nobr>the “Configure”button, the following dialog box will appear.</nobr></div>
<div style="position: absolute; top: 18902px; left: 255px;"><nobr><b>&lt;Figure 2-9-1&gt; Multi-ICE Debugger Configuration Box</b></nobr></div>
</span></font>

<div style="position: absolute; top: 19120px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="16"><b>Page 16</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 19274px; left: 142px;"><nobr>From the above dialog box, select the Processor Settings tab.</nobr></div>
<div style="position: absolute; top: 19302px; left: 142px;"><nobr>위의 대화창에서 “Processor Settings” 탭을 선택한다.</nobr></div>
<div style="position: absolute; top: 19922px; left: 255px;"><nobr><b>&lt;Figure 2-9-2&gt; Multi-ICE Debugger Configuration Box</b></nobr></div>
<div style="position: absolute; top: 19949px; left: 127px;"><nobr>Fill  the  above  address  blank  with  0x0c7fffd0  and  finish  the  environment  configuration  by</nobr></div>
<div style="position: absolute; top: 19976px; left: 127px;"><nobr>pressing  Okay. Then,  ADW  will  be  attempting  to  make  a  connection  with  Multi-ICE.  If  a </nobr></div>
<div style="position: absolute; top: 20003px; left: 127px;"><nobr>connection  has  been  successfully  made, “Console  Window” will  appear  with  the  following</nobr></div>
<div style="position: absolute; top: 20030px; left: 127px;"><nobr>message, </nobr></div>
<div style="position: absolute; top: 20192px; left: 142px;"><nobr><b>&lt;Figure 2-10&gt; ADW Console Window showing a successful connection with Multi-ICE</b></nobr></div>
</span></font>

<div style="position: absolute; top: 20383px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="17"><b>Page 17</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 20535px; left: 127px;"><nobr>In the future you can select  “Yes” from the Remote Debugger window when running ADW, </nobr></div>
<div style="position: absolute; top: 20562px; left: 127px;"><nobr>unless you want to change the environment configuration.</nobr></div>
<div style="position: absolute; top: 20752px; left: 207px;"><nobr><b>&lt;Figure 2-11&gt; Message Window when Running ADW (Select “Yes”)</b></nobr></div>
<div style="position: absolute; top: 20805px; left: 127px;"><nobr>You  can  also  connect  Multi-ICE with  serial and  parallel  cables.  Please  see  Multi-ICE User </nobr></div>
<div style="position: absolute; top: 20832px; left: 127px;"><nobr>Manual and ADW User Manual.</nobr></div>
<div style="position: absolute; top: 20886px; left: 127px;"><nobr>Once ADW and Multi-ICE are connected, you can proceed on to the next. Copy the arm9.ini </nobr></div>
<div style="position: absolute; top: 20913px; left: 127px;"><nobr>file  provided  by  GamePark  to a  folder where  ADW.EXE  exists.  ADW  is  located  in the</nobr></div>
<div style="position: absolute; top: 20940px; left: 127px;"><nobr>subordinate folder named BIN under the ARM250 folder.</nobr></div>
<div style="position: absolute; top: 20994px; left: 127px;"><nobr>To summerize,</nobr></div>
<div style="position: absolute; top: 21048px; left: 158px;"><nobr>1. Execute ADW(Configure the environment for Multi-ICE.).</nobr></div>
<div style="position: absolute; top: 21075px; left: 158px;"><nobr>2. Go  to  the  options-&gt;Configur  Debugger-&gt;Target  Environment-&gt;Add  to  load  Multi-</nobr></div>
<div style="position: absolute; top: 21102px; left: 185px;"><nobr>ICE.dll in Multi-ICE.</nobr></div>
<div style="position: absolute; top: 21129px; left: 158px;"><nobr>3. Go to the Target Environment-&gt;Configure-&gt;Processor Settings and enter “0x0c7fffd0”</nobr></div>
<div style="position: absolute; top: 21156px; left: 185px;"><nobr>in the address blank.</nobr></div>
<div style="position: absolute; top: 21210px; left: 127px;"><nobr>Next  is  an  example  downloading  a  <b><span class="goohl0">GP32</span></b>  program  directly  onto  <b><span class="goohl0">GP32</span></b>  through  ADW  and</nobr></div>
<div style="position: absolute; top: 21237px; left: 127px;"><nobr>running it. </nobr></div>
</span></font>

<div style="position: absolute; top: 21646px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="18"><b>Page 18</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 21797px; left: 127px;"><nobr><b>3.4 Connecting ADW to <b><span class="goohl0">GP32</span></b></b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 21852px; left: 127px;"><nobr>First  of  all,  run  ADW.  Supply  power  to  Multi-ICE  and  <b><span class="goohl0">GP32</span></b>  and  check  that they are both </nobr></div>
<div style="position: absolute; top: 21879px; left: 127px;"><nobr>operating. You will see a Multi-ICE activation message on the Console Window when you run </nobr></div>
<div style="position: absolute; top: 21906px; left: 127px;"><nobr>ADW. If no Console Window appears, select  Console menu from ADW  View  menu.  Then</nobr></div>
<div style="position: absolute; top: 21933px; left: 127px;"><nobr>command the loading of ARM9.INI mentioned afore in the Command Window. The command </nobr></div>
<div style="position: absolute; top: 21960px; left: 127px;"><nobr>is obey <b><span class="goohl0">gp32</span></b>.ini.</nobr></div>
<div style="position: absolute; top: 22366px; left: 165px;"><nobr><b>&lt;Figure 2-12&gt; ADW Command Window with Command for <b><span class="goohl0">GP32</span></b> Initialization</b></nobr></div>
<div style="position: absolute; top: 22419px; left: 127px;"><nobr>Numerous  Let  commands  will  be  transmitted  to  <b><span class="goohl0">GP32</span></b>  through  ADW  and  Multi-ICE for </nobr></div>
<div style="position: absolute; top: 22446px; left: 127px;"><nobr>initialization. If no Command Window appears, select Console menu from ADW View menu. </nobr></div>
<div style="position: absolute; top: 22473px; left: 127px;"><nobr>Then  load  Ex_1.axf  created  on  APM(ARM  Project  Manager)  onto  <b><span class="goohl0">GP32</span></b>.  Command  by</nobr></div>
<div style="position: absolute; top: 22500px; left: 127px;"><nobr>selecting Load Imag… inside ADW File menu (or by selecting from the toolbar). </nobr></div>
<div style="position: absolute; top: 22744px; left: 253px;"><nobr><b>&lt;Figure 2-13&gt; Menu/Tool to Command AXF File Load</b></nobr></div>
</span></font>

<div style="position: absolute; top: 22909px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="19"><b>Page 19</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 23088px; left: 127px;"><nobr>A message window to search program image file will appear. Find and select Ex_1.axf.</nobr></div>
<div style="position: absolute; top: 23494px; left: 269px;"><nobr><b>&lt;Figure 2-14&gt; Message Window to Load AXF File</b></nobr></div>
<div style="position: absolute; top: 23547px; left: 127px;"><nobr>The program can be executed once the loading has been completed.</nobr></div>
<div style="position: absolute; top: 23574px; left: 127px;"><nobr>Select Execute from the menu, press F5 hot key, or select from the toolbar menu in order to run </nobr></div>
<div style="position: absolute; top: 23601px; left: 127px;"><nobr>program.</nobr></div>
<div style="position: absolute; top: 23845px; left: 236px;"><nobr><b>&lt;Figure 2-15&gt; Menu/Tool to Command Program Execution</b></nobr></div>
<div style="position: absolute; top: 23898px; left: 127px;"><nobr>You  will  see  a  red  square  on  <b><span class="goohl0">GP32</span></b>’s LCD screen. Up to now, you have been through one </nobr></div>
<div style="position: absolute; top: 23925px; left: 127px;"><nobr>development process.</nobr></div>
</span></font>

<div style="position: absolute; top: 24172px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="20"><b>Page 20</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 24322px; left: 127px;"><nobr><b>4. Graphic System (I)</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 24377px; left: 127px;"><nobr><b>4.1 Overview</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 24432px; left: 127px;"><nobr>This chapter explains the <b><span class="goohl0">GP32</span></b> graphic system with examples. As mentioned afore, one of </nobr></div>
<div style="position: absolute; top: 24459px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b>’s main features is the high-resolution (320x240) screen. This sets the best environment for </nobr></div>
<div style="position: absolute; top: 24486px; left: 127px;"><nobr>game graphic system as the screen corresponds with the internal memory to allot memory areas </nobr></div>
<div style="position: absolute; top: 24513px; left: 127px;"><nobr>and show  correspondence with the LCD screen. The graphic system supports 256 concurrent </nobr></div>
<div style="position: absolute; top: 24540px; left: 127px;"><nobr>colors in 8-bit palette mode and also a maximum of 65,536 colors in 16-bit true color mode.</nobr></div>
<div style="position: absolute; top: 24567px; left: 127px;"><nobr>Graphic System (I) will begin with the basics of LCD graphic system, such as creating surface </nobr></div>
<div style="position: absolute; top: 24594px; left: 127px;"><nobr>corresponding with the LCD screen,  expressing colors and creating double surface. Graphic </nobr></div>
<div style="position: absolute; top: 24621px; left: 127px;"><nobr>System (II) will take you  through game-related images. This will be dealt with after looking at </nobr></div>
<div style="position: absolute; top: 24648px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> input devices as you can understand more effectively with some knowledge of key control.</nobr></div>
</span></font>

<div style="position: absolute; top: 25435px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="21"><b>Page 21</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26036px; left: 162px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 26036px; left: 191px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26049px; left: 162px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 26049px; left: 191px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26063px; left: 162px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 26063px; left: 191px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26076px; left: 162px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 26076px; left: 191px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26090px; left: 162px;"><nobr>5:</nobr></div>
<div style="position: absolute; top: 26103px; left: 162px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 26103px; left: 191px;"><nobr>GPDRAWSURFACE gpDraw;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26117px; left: 162px;"><nobr>8:</nobr></div>
<div style="position: absolute; top: 26130px; left: 162px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 26130px; left: 191px;"><nobr>void <font color="#000000" face="Times">GpMain(</font>void * <font color="#000000" face="Times">arg)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26144px; left: 162px;"><nobr>10: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 26157px; left: 162px;"><nobr>11:</nobr></div>
</span></font>
<font color="#800000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(128, 0, 0);">
<div style="position: absolute; top: 26157px; left: 222px;"><nobr>//GpGraphicModeSet(8, NULL);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26171px; left: 162px;"><nobr>12:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 26171px; left: 222px;"><nobr>GpLcdSurfaceGet(<font color="#008000" face="Times">&amp;</font>gpDraw,<font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26184px; left: 162px;"><nobr>13: </nobr></div>
</span></font>
<font color="#800000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(128, 0, 0);">
<div style="position: absolute; top: 26184px; left: 218px;"><nobr>//surface fill color in white</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26198px; left: 162px;"><nobr>14:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 26198px; left: 222px;"><nobr>GpRectFill(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw.buf_w, gpDraw.buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26211px; left: 162px;"><nobr>15: </nobr></div>
</span></font>
<font color="#800000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(128, 0, 0);">
<div style="position: absolute; top: 26211px; left: 221px;"><nobr>//make gpDraw with primary surface</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26225px; left: 162px;"><nobr>16:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 26225px; left: 222px;"><nobr>GpSurfaceSet(<font color="#008000" face="Times">&amp;</font>gpDraw);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26238px; left: 162px;"><nobr>17: </nobr></div>
</span></font>
<font color="#800000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(128, 0, 0);">
<div style="position: absolute; top: 26238px; left: 217px;"><nobr>//Draw a 60x60 red box on the generated surface. </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26252px; left: 162px;"><nobr>18: </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 26252px; left: 221px;"><nobr>GpRectFill(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw, <font color="#ff0000" face="Times">120</font>, <font color="#ff0000" face="Times">60</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">80</font>,<font color="#ff0000" face="Times">0xe0</font>); </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26265px; left: 162px;"><nobr>19:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 26265px; left: 222px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26279px; left: 162px;"><nobr>20<font color="#000000" face="Times">: </font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 26279px; left: 228px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 26292px; left: 162px;"><nobr>21<font color="#000000" face="Times">:  }</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 25586px; left: 127px;"><nobr><b>4.2 Creating LCD Screen Surface</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 25642px; left: 127px;"><nobr>Drawing squares on <b><span class="goohl0">GP32</span></b> LCD screen will explained with the examples in <b>Ex_1_Sur </b>folder. It </nobr></div>
<div style="position: absolute; top: 25668px; left: 127px;"><nobr>consists of the 5 following steps.</nobr></div>
<div style="position: absolute; top: 25695px; left: 127px;"><nobr>First, create a surface corresponding to <b><span class="goohl0">GP32</span></b> screen. </nobr></div>
<div style="position: absolute; top: 25723px; left: 127px;"><nobr>This is possible with the  <b>GpLcdSurfaceGet</b>() function and  <b>GPDRAWSURFACE  </b>structure </nobr></div>
<div style="position: absolute; top: 25749px; left: 127px;"><nobr>body variable.</nobr></div>
<div style="position: absolute; top: 25776px; left: 127px;"><nobr>Second, color the newly created surface with the color white. </nobr></div>
<div style="position: absolute; top: 25804px; left: 127px;"><nobr>This is carried out with the <b>GpRectFill</b>() function.</nobr></div>
<div style="position: absolute; top: 25830px; left: 127px;"><nobr>Third, set the new surface onto the LCD screen.</nobr></div>
<div style="position: absolute; top: 25858px; left: 127px;"><nobr>This uses the <b>GpSurfaceSet() </b>function.</nobr></div>
<div style="position: absolute; top: 25884px; left: 127px;"><nobr>Fourth, enable the LCD.</nobr></div>
<div style="position: absolute; top: 25912px; left: 127px;"><nobr>This is made with the <b>GpLcdEnable() </b>function.</nobr></div>
<div style="position: absolute; top: 25938px; left: 127px;"><nobr>Fifth, draw a square of desired size and color on the surface corresponding to the LCD.</nobr></div>
<div style="position: absolute; top: 25966px; left: 127px;"><nobr>As in the second step, this also uses the <b>GpRectFill() </b>function.</nobr></div>
<div style="position: absolute; top: 26344px; left: 253px;"><nobr><b>&lt;List 3-1&gt; Example Source of Creating Screen Surface </b></nobr></div>
<div style="position: absolute; top: 26370px; left: 127px;"><nobr>The following is a diagram explaining the concept of the list above. </nobr></div>
</span></font>

<div style="position: absolute; top: 26698px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="22"><b>Page 22</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 27635px; left: 235px;"><nobr><b>&lt;Figure 3-1&gt; Diagram of LCD Screen and Surface Creation</b></nobr></div>
<div style="position: absolute; top: 27688px; left: 127px;"><nobr>The  logical  coordinates  of such screen surface are as follows. Top-left is the origin of the </nobr></div>
<div style="position: absolute; top: 27715px; left: 127px;"><nobr>coordinates, with the X axis running on the right and the Y axis going downwards.</nobr></div>
<div style="position: absolute; top: 27742px; left: 127px;"><nobr>Therefore, the above codes will result in a red square of (W,H) = (80,80) on a white screen with </nobr></div>
<div style="position: absolute; top: 27769px; left: 127px;"><nobr>coordinates (X,Y) = (120,60). </nobr></div>
<div style="position: absolute; top: 27796px; left: 127px;"><nobr>This process will be explained in more details later on.</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 27320px; left: 133px;"><nobr>2)  Color  the  square  on</nobr></div>
<div style="position: absolute; top: 27347px; left: 133px;"><nobr>the  surface  with  a</nobr></div>
<div style="position: absolute; top: 27374px; left: 133px;"><nobr>desired color using</nobr></div>
<div style="position: absolute; top: 27401px; left: 133px;"><nobr><b>GpRectFill() </b>function.</nobr></div>
<div style="position: absolute; top: 27547px; left: 311px;"><nobr>Y</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 27273px; left: 377px;"><nobr><b>Screen Surface</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 26986px; left: 197px;"><nobr><b>GPDRAWSURFACE</b></nobr></div>
<div style="position: absolute; top: 27013px; left: 197px;"><nobr>Body Structure Variable</nobr></div>
<div style="position: absolute; top: 27097px; left: 198px;"><nobr>1) Create surface with </nobr></div>
<div style="position: absolute; top: 27124px; left: 198px;"><nobr><b>GpLcdSurfaceGet() </b></nobr></div>
<div style="position: absolute; top: 27151px; left: 198px;"><nobr>function.</nobr></div>
<div style="position: absolute; top: 27388px; left: 541px;"><nobr>X</nobr></div>
<div style="position: absolute; top: 27397px; left: 324px;"><nobr>(0,0)</nobr></div>
<div style="position: absolute; top: 27401px; left: 516px;"><nobr>(320,0)</nobr></div>
<div style="position: absolute; top: 27544px; left: 324px;"><nobr>(0,240)</nobr></div>
<div style="position: absolute; top: 27288px; left: 602px;"><nobr>3)  Set  the  surface on </nobr></div>
<div style="position: absolute; top: 27315px; left: 617px;"><nobr>the</nobr></div>
<div style="position: absolute; top: 27315px; left: 660px;"><nobr>LCD </nobr></div>
<div style="position: absolute; top: 27315px; left: 715px;"><nobr>with</nobr></div>
<div style="position: absolute; top: 27342px; left: 617px;"><nobr><b>GpSurfaceSet()</b></nobr></div>
<div style="position: absolute; top: 27369px; left: 617px;"><nobr>function.</nobr></div>
<div style="position: absolute; top: 26955px; left: 507px;"><nobr>4) Enable the screen with</nobr></div>
<div style="position: absolute; top: 26982px; left: 507px;"><nobr><b>GpLcdEnable() </b>function.</nobr></div>
<div style="position: absolute; top: 27459px; left: 341px;"><nobr>(120,60)</nobr></div>
</span></font>

<div style="position: absolute; top: 27961px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="23"><b>Page 23</b></a></font></td></tr></tbody></table></div><font color="#ff0000" face="Times" size="3"><span style="font-size: 16px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 28113px; left: 127px;"><nobr><b>Note:</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 28142px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> internally generates surface buffers that can become the primary buffer of the screen and </nobr></div>
<div style="position: absolute; top: 28169px; left: 127px;"><nobr>manages them. A developer has to get the surface buffers previously generated by the firmware. </nobr></div>
<div style="position: absolute; top: 28196px; left: 127px;"><nobr>If you directly allocate memory to generate a buffer, the buffer cannot become a primary buffer. </nobr></div>
<div style="position: absolute; top: 28223px; left: 127px;"><nobr>The  firmware  generates  four  surface  buffers  in  8-bit mode and two surface buffers in 16-bit </nobr></div>
<div style="position: absolute; top: 28250px; left: 127px;"><nobr>mode.</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 28303px; left: 127px;"><nobr>In order to create a surface, a variable of <b>GPDRAWSURFACE </b>structure body is necessary.</nobr></div>
<div style="position: absolute; top: 28329px; left: 127px;"><nobr>Create variable gpDraw with such functions on the structure body variable declaration in line 6 </nobr></div>
<div style="position: absolute; top: 28357px; left: 127px;"><nobr>of the above list<b>.</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28393px; left: 127px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 28393px; left: 156px;"><nobr>GPDRAWSURFACE gpDraw;</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 28424px; left: 127px;"><nobr>The  definition  of  GPDRAWSURFACE  structure  body  is  in  the  gpgraphic.h file inside the </nobr></div>
<div style="position: absolute; top: 28451px; left: 127px;"><nobr>GPINCLUDE folder. Let’s take a look.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28487px; left: 127px;"><nobr>typedef struct <font color="#000000" face="Times">tagGPDRAWSURFACE{</font></nobr></div>
<div style="position: absolute; top: 28501px; left: 156px;"><nobr>unsigned char <font color="#000000" face="Times">* ptbuffer;  </font><font color="#008000" face="Times">// buffer start address</font></nobr></div>
<div style="position: absolute; top: 28514px; left: 156px;"><nobr>int <font color="#000000" face="Times">bpp;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28514px; left: 306px;"><nobr>// reserved</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28528px; left: 156px;"><nobr>int <font color="#000000" face="Times">buf_w;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28528px; left: 306px;"><nobr>// buffer width</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28541px; left: 156px;"><nobr>int <font color="#000000" face="Times">buf_h;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28541px; left: 306px;"><nobr>// buffer height</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28555px; left: 156px;"><nobr>int <font color="#000000" face="Times">ox;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28555px; left: 306px;"><nobr>// buffer origin x co-ordinate</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28568px; left: 156px;"><nobr>int <font color="#000000" face="Times">oy;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28568px; left: 306px;"><nobr>// buffer origin y co-ordinate</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28582px; left: 156px;"><nobr>unsigned char <font color="#000000" face="Times">* o_buffer;</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 28595px; left: 127px;"><nobr>}GPDRAWSURFACE;</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 28626px; left: 127px;"><nobr>The  actual  screen  surface  is  returned  by  the  GpLcdSurfaceGet  function  and  this  surface </nobr></div>
<div style="position: absolute; top: 28653px; left: 127px;"><nobr>information is put into the GPDRAWSURFACE structure.</nobr></div>
</span></font>
<font color="#993300" face="Times" size="3"><span style="font-size: 14px; font-family: Times; color: rgb(153, 51, 0);">
<div style="position: absolute; top: 28681px; left: 127px;"><nobr>.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 28723px; left: 133px;"><nobr>int <font color="#000000" face="Times">GpLcdSurfaceGet(GPDRAWSURFACE * ptgpds, </font>int <font color="#000000" face="Times">idx);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28750px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 28764px; left: 156px;"><nobr>&lt;arg 1&gt;  GPDRAWSURFACE * ptgpds</nobr></div>
<div style="position: absolute; top: 28777px; left: 216px;"><nobr>The address of structure including the information about the surface to be generated</nobr></div>
<div style="position: absolute; top: 28791px; left: 156px;"><nobr>&lt;arg 2&gt;  int idx</nobr></div>
<div style="position: absolute; top: 28804px; left: 216px;"><nobr>The index value of the surface to be generated</nobr></div>
<div style="position: absolute; top: 28818px; left: 156px;"><nobr>&lt;return&gt; int</nobr></div>
<div style="position: absolute; top: 28831px; left: 216px;"><nobr>If  the surface  generation  is  successful,  this  function  will  return  GPC_DRAW_Ok,  if  not,  it  returns </nobr></div>
<div style="position: absolute; top: 28845px; left: 216px;"><nobr>GPC_DRAW_ERR.</nobr></div>
<div style="position: absolute; top: 28858px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 28903px; left: 127px;"><nobr>When the surface is created, color it white with GpRectFill() function.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 28940px; left: 127px;"><nobr>14:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 28940px; left: 187px;"><nobr>GpRectFill(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw.buf_w, gpDraw.buf_h, GPC_SC_WHITE);</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 28970px; left: 127px;"><nobr>Line 14 of the example list goes through this process. It is necessary before setting the surface </nobr></div>
<div style="position: absolute; top: 28997px; left: 127px;"><nobr>to the LCD screen in order to place your desired picture on it.</nobr></div>
<div style="position: absolute; top: 29024px; left: 127px;"><nobr>Below is a detailed explanation about the GpRectFill(… ) function.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 29061px; left: 127px;"><nobr>int <font color="#000000" face="Times">GpRectFill(GPDRAWTAG * gptag,GPDRAWSURFACE * ptgpds,</font></nobr></div>
<div style="position: absolute; top: 29074px; left: 246px;"><nobr>int <font color="#000000" face="Times">dx,</font>int <font color="#000000" face="Times">dy,</font>int <font color="#000000" face="Times">width,</font>int <font color="#000000" face="Times">height,</font></nobr></div>
</span></font>

<div style="position: absolute; top: 29224px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="24"><b>Page 24</b></a></font></td></tr></tbody></table></div><font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 29372px; left: 246px;"><nobr>unsigned char <font color="#000000" face="Times">color);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 29386px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 29399px; left: 156px;"><nobr>&lt;arg 1&gt;  GPDRAWTAG * gptag</nobr></div>
<div style="position: absolute; top: 29413px; left: 216px;"><nobr>Address of the structure body variable representing the clipping area.</nobr></div>
<div style="position: absolute; top: 29426px; left: 156px;"><nobr>&lt;arg 2&gt;</nobr></div>
<div style="position: absolute; top: 29426px; left: 216px;"><nobr>GPDRAWSURFACE * ptgpds</nobr></div>
<div style="position: absolute; top: 29440px; left: 216px;"><nobr>Address of the structure body variable containing data on the surface where the square is to be drawn.</nobr></div>
<div style="position: absolute; top: 29453px; left: 156px;"><nobr>&lt;arg 3&gt;  int dx</nobr></div>
<div style="position: absolute; top: 29467px; left: 216px;"><nobr>x coordinate for the starting point of square.</nobr></div>
<div style="position: absolute; top: 29480px; left: 156px;"><nobr>&lt;arg 4&gt;  int dy</nobr></div>
<div style="position: absolute; top: 29494px; left: 216px;"><nobr>y coordinate for the starting point of square.</nobr></div>
<div style="position: absolute; top: 29507px; left: 156px;"><nobr>&lt;arg 5&gt;  int width</nobr></div>
<div style="position: absolute; top: 29521px; left: 216px;"><nobr>Width of square.</nobr></div>
<div style="position: absolute; top: 29534px; left: 156px;"><nobr>&lt;arg 6&gt;  int height</nobr></div>
<div style="position: absolute; top: 29548px; left: 216px;"><nobr>Height of square.</nobr></div>
<div style="position: absolute; top: 29561px; left: 156px;"><nobr>&lt;arg 7&gt;</nobr></div>
<div style="position: absolute; top: 29561px; left: 216px;"><nobr>unsigned char color</nobr></div>
<div style="position: absolute; top: 29575px; left: 216px;"><nobr>Color of square.</nobr></div>
<div style="position: absolute; top: 29588px; left: 156px;"><nobr>&lt;return&gt; int </nobr></div>
<div style="position: absolute; top: 29602px; left: 216px;"><nobr>No meaning.</nobr></div>
<div style="position: absolute; top: 29615px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 29646px; left: 127px;"><nobr>Once, the new surface is initialized with the color white, the gpDraw surface is set on the LCD </nobr></div>
<div style="position: absolute; top: 29673px; left: 127px;"><nobr>with GpSurfaceSet() function. This function actually connects the surface to the LCD.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 29710px; left: 127px;"><nobr>16:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 29710px; left: 187px;"><nobr>GpSurfaceSet(&amp;gpDraw);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 29710px; left: 335px;"><nobr>//make gpDraw with primary surface</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 29741px; left: 127px;"><nobr>Line 16 proceeds as below.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 29777px; left: 127px;"><nobr>void <font color="#000000" face="Times">GpSurfaceSet(GPDRAWSURFACE * ptgpds);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 29791px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 29804px; left: 156px;"><nobr>&lt;arg 1&gt;</nobr></div>
<div style="position: absolute; top: 29804px; left: 216px;"><nobr>GPDRAWSURFACE * ptgpds</nobr></div>
<div style="position: absolute; top: 29818px; left: 216px;"><nobr>Address of structure body variable containing data on the surface to be set on the LCD.</nobr></div>
<div style="position: absolute; top: 29831px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 29889px; left: 127px;"><nobr>The LCD screen will now be colored white.</nobr></div>
<div style="position: absolute; top: 29943px; left: 127px;"><nobr>The next step uses GpRectFill() to color the square in red.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 29980px; left: 127px;"><nobr>18:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 29980px; left: 187px;"><nobr>GpRectFill(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">120</font>, <font color="#ff0000" face="Times">60</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">0xe0</font>);</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 30011px; left: 127px;"><nobr>Line 18 draws the red square.</nobr></div>
<div style="position: absolute; top: 30038px; left: 127px;"><nobr>The next code is the waiting code.</nobr></div>
<div style="position: absolute; top: 30092px; left: 127px;"><nobr>The structure body and functions used in the example above will be used over and over again, </nobr></div>
<div style="position: absolute; top: 30119px; left: 127px;"><nobr>so you must learn them carefully.</nobr></div>
<div style="position: absolute; top: 30146px; left: 127px;"><nobr>In  other  words,  you  need  to  learn  the  structure  body  GPDRAWSURFACE  and  functions </nobr></div>
<div style="position: absolute; top: 30173px; left: 127px;"><nobr>GpLcdSurfaceGet(), GpRectFill(), GpSurfaceSet().</nobr></div>
</span></font>

<div style="position: absolute; top: 30487px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="25"><b>Page 25</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31236px; left: 154px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31236px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31250px; left: 154px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31250px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31263px; left: 154px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31263px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31277px; left: 154px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31277px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31290px; left: 154px;"><nobr>5:</nobr></div>
<div style="position: absolute; top: 31304px; left: 154px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31304px; left: 183px;"><nobr>GPDRAWSURFACE gpDraw[<font color="#ff0000" face="Times">2</font>];</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31317px; left: 154px;"><nobr>7:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31317px; left: 183px;"><nobr>int nflip;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31331px; left: 154px;"><nobr>8:</nobr></div>
<div style="position: absolute; top: 31344px; left: 154px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31344px; left: 183px;"><nobr>void <font color="#000000" face="Times">GpMain(</font>void * <font color="#000000" face="Times">arg)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31358px; left: 154px;"><nobr>10: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 31371px; left: 154px;"><nobr>11:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31371px; left: 214px;"><nobr>int <font color="#000000" face="Times">i;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31385px; left: 154px;"><nobr>12:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31385px; left: 214px;"><nobr>unsigned int <font color="#000000" face="Times">n_tick;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31398px; left: 154px;"><nobr>13:</nobr></div>
<div style="position: absolute; top: 31412px; left: 154px;"><nobr>14:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31412px; left: 214px;"><nobr>i = GpLcdSurfaceGet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>],<font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31425px; left: 154px;"><nobr>15:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31425px; left: 213px;"><nobr>i = GpLcdSurfaceGet(&amp;gpDraw[<font color="#ff0000" face="Times">1</font>],<font color="#ff0000" face="Times">1</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31439px; left: 154px;"><nobr>16:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31439px; left: 214px;"><nobr>GpRectFill(NULL, &amp;gpDraw[<font color="#ff0000" face="Times">0</font>], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[<font color="#ff0000" face="Times">0</font>].buf_w, gpDraw[<font color="#ff0000" face="Times">0</font>].buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31452px; left: 154px;"><nobr>17:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31452px; left: 214px;"><nobr>GpRectFill(NULL, &amp;gpDraw[<font color="#ff0000" face="Times">1</font>], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[<font color="#ff0000" face="Times">1</font>].buf_w, gpDraw[<font color="#ff0000" face="Times">1</font>].buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31466px; left: 154px;"><nobr>18:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31466px; left: 214px;"><nobr>GpSurfaceSet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>]); <font color="#008000" face="Times">//sets gpDraw[0] to the primary surface</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31479px; left: 154px;"><nobr>19:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31479px; left: 214px;"><nobr>nflip = <font color="#ff0000" face="Times">1</font>; <font color="#008000" face="Times">//gpDraw[1]</font><font color="#008000" face="Times">이 </font><font color="#008000" face="Times">This function indicates that gpDraw[0] is the back surface.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31493px; left: 154px;"><nobr>20:</nobr></div>
<div style="position: absolute; top: 31506px; left: 154px;"><nobr>21:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31506px; left: 214px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31520px; left: 154px;"><nobr>22:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31520px; left: 214px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31533px; left: 154px;"><nobr>23:</nobr></div>
<div style="position: absolute; top: 31533px; left: 243px;"><nobr>/*Draw 100x100 red box at the coordinates (nflip*100, 0) of the back surface.</nobr></div>
<div style="position: absolute; top: 31547px; left: 154px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31547px; left: 243px;"><nobr>GpRectFill(NULL, &amp;gpDraw[nflip], nflip * <font color="#ff0000" face="Times">100</font>, <font color="#ff0000" face="Times">100</font>, <font color="#ff0000" face="Times">100</font>, <font color="#ff0000" face="Times">100</font>, <font color="#ff0000" face="Times">0xe0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31560px; left: 154px;"><nobr>25:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31560px; left: 243px;"><nobr>GpSurfaceFlip(&amp;gpDraw[nflip++]);</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 30638px; left: 127px;"><nobr><b>4.3 8-Bit Palette Mode / 16-Bit True Color Mode</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 30695px; left: 127px;"><nobr>The <b><span class="goohl0">GP32</span></b> graphic system supports 16-bit colors and its graphics design is almost the  same as </nobr></div>
<div style="position: absolute; top: 30722px; left: 127px;"><nobr>the one for the existing PC game (8-bit, 16-bit).</nobr></div>
<div style="position: absolute; top: 30776px; left: 127px;"><nobr>The <b><span class="goohl0">GP32</span></b> color format has been illustrated as follows:</nobr></div>
<div style="position: absolute; top: 30803px; left: 156px;"><nobr>RED[5bit] : GREEM[5bit] : BLUE[5bit] : Intensity[1bit</nobr></div>
<div style="position: absolute; top: 30831px; left: 156px;"><nobr>※ Precaution</nobr></div>
<div style="position: absolute; top: 30857px; left: 127px;"><nobr>While the color LUT architecture of PC’s VGA graphic card has the 24-bit color resolution, <b><span class="goohl0">GP32</span></b> </nobr></div>
<div style="position: absolute; top: 30884px; left: 127px;"><nobr>has the 16-bit resolution. Therefore, each palette entry of <b><span class="goohl0">GP32</span></b> also has the 16-bit resolution in </nobr></div>
<div style="position: absolute; top: 30911px; left: 127px;"><nobr>8-bit mode meaning it has limited colors. For instance, RGB(0,0,0) is separately distinguishable </nobr></div>
<div style="position: absolute; top: 30938px; left: 127px;"><nobr>from  RGB(7,7,7)  on  PC,  but  not  on  <b><span class="goohl0">GP32</span></b>.  In  other  words,  <b><span class="goohl0">GP32</span></b>  mistakes  RGB(7,7,7)  for </nobr></div>
<div style="position: absolute; top: 30965px; left: 127px;"><nobr>RGB(0,0,0). Consequently, A developer should single out each 32 colors among  <b>256 </b>levels of </nobr></div>
<div style="position: absolute; top: 30992px; left: 127px;"><nobr><b>red</b>, green and blue.</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 31070px; left: 127px;"><nobr><b>4.4 Creating Double Surface</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 31125px; left: 127px;"><nobr>Double surface technique consists of creating two surfaces corresponding to the screen. One is </nobr></div>
<div style="position: absolute; top: 31152px; left: 127px;"><nobr>used for the present screen and the other for the new screen. The two are shown alternately to </nobr></div>
<div style="position: absolute; top: 31179px; left: 127px;"><nobr>bring a change on the screen. This technique is often used to make the screen smooth for games. </nobr></div>
<div style="position: absolute; top: 31206px; left: 127px;"><nobr>This process on <b><span class="goohl0">GP32</span></b> is shown below.</nobr></div>
</span></font>

<div style="position: absolute; top: 31750px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="26"><b>Page 26</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 32079px; left: 251px;"><nobr><b>&lt;List 3-3&gt; Example Source of Creating Double Surface</b></nobr></div>
<div style="position: absolute; top: 32132px; left: 127px;"><nobr>The above list contains codes for creating two screen surfaces, drawing a red square on both </nobr></div>
<div style="position: absolute; top: 32159px; left: 127px;"><nobr>surfaces, and showing them alternately for 1 second.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31917px; left: 146px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31917px; left: 235px;"><nobr>nflip %= <font color="#ff0000" face="Times">2</font>;  <font color="#008000" face="Times">//Save the reference index of the previous primary surface as nflip, the reference value of </font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31931px; left: 295px;"><nobr>the back surface.</nobr></div>
<div style="position: absolute; top: 31944px; left: 146px;"><nobr>27:</nobr></div>
<div style="position: absolute; top: 31944px; left: 235px;"><nobr>/*About 1000msec of time delay*/</nobr></div>
<div style="position: absolute; top: 31958px; left: 146px;"><nobr>28:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31958px; left: 235px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31971px; left: 146px;"><nobr>29:</nobr></div>
<div style="position: absolute; top: 31985px; left: 146px;"><nobr>30:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 31985px; left: 235px;"><nobr>while <font color="#000000" face="Times">( ( GpTickCountGet() - n_tick ) &lt; </font><font color="#ff0000" face="Times">1000</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 31998px; left: 146px;"><nobr>31:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 31998px; left: 266px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 32012px; left: 146px;"><nobr>32:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 32012px; left: 206px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 32025px; left: 146px;"><nobr>33: <font color="#000000" face="Times">}</font></nobr></div>
</span></font>

<div style="position: absolute; top: 33013px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="27"><b>Page 27</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 33165px; left: 127px;"><nobr>The next codes are GPDRAWSURFACE declaring these 2 surfaces and their respective index </nobr></div>
<div style="position: absolute; top: 33192px; left: 127px;"><nobr>variable declaration.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33229px; left: 127px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33229px; left: 156px;"><nobr>GPDRAWSURFACE gpDraw[<font color="#ff0000" face="Times">2</font>];</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33242px; left: 127px;"><nobr>7:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33242px; left: 156px;"><nobr>int nflip;</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 33490px; left: 250px;"><nobr><b>&lt;Figure 3-3&gt; Screens Corresponding to Double Surface</b></nobr></div>
<div style="position: absolute; top: 33543px; left: 127px;"><nobr>The codes now show how the surfaces are actually created and colored white.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33580px; left: 127px;"><nobr>14:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33580px; left: 187px;"><nobr>i = GpLcdSurfaceGet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>],<font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33593px; left: 127px;"><nobr>15:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33593px; left: 186px;"><nobr>i = GpLcdSurfaceGet(&amp;gpDraw[<font color="#ff0000" face="Times">1</font>],<font color="#ff0000" face="Times">1</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33607px; left: 127px;"><nobr>16:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33607px; left: 187px;"><nobr>GpRectFill(NULL, &amp;gpDraw[<font color="#ff0000" face="Times">0</font>], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[<font color="#ff0000" face="Times">0</font>].buf_w, gpDraw[<font color="#ff0000" face="Times">0</font>].buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33620px; left: 127px;"><nobr>17:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33620px; left: 187px;"><nobr>GpRectFill(NULL, &amp;gpDraw[<font color="#ff0000" face="Times">1</font>], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[<font color="#ff0000" face="Times">1</font>].buf_w, gpDraw[<font color="#ff0000" face="Times">1</font>].buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33634px; left: 127px;"><nobr>18:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33634px; left: 187px;"><nobr>GpSurfaceSet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>]); <font color="#008000" face="Times">//Set gpDraw[0] as gpDraw[0]</font><font color="#008000" face="Times">을 </font><font color="#008000" face="Times">primary surface </font><font color="#008000" face="Times">로 </font><font color="#008000" face="Times">setting</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 33667px; left: 127px;"><nobr>These codes are for setting</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 33665px; left: 313px;"><nobr>gpDraw[0] on the LCD and enabling the LCD.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33701px; left: 127px;"><nobr>18:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33701px; left: 187px;"><nobr>GpSurfaceSet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>]); <font color="#008000" face="Times">//set gpDraw[0] as the primary surface</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33715px; left: 306px;"><nobr>gpDraw[0]을 primary surface 로 setting</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 33746px; left: 127px;"><nobr>The LCD will now be white.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33782px; left: 127px;"><nobr>19:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33782px; left: 187px;"><nobr>nflip = <font color="#ff0000" face="Times">1</font>; <font color="#008000" face="Times">//indicate that gpDraw[1] is the back surface</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33796px; left: 127px;"><nobr>20:</nobr></div>
<div style="position: absolute; top: 33809px; left: 127px;"><nobr>21:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 33809px; left: 187px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33823px; left: 127px;"><nobr>22:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33823px; left: 187px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33836px; left: 127px;"><nobr>23:</nobr></div>
<div style="position: absolute; top: 33836px; left: 216px;"><nobr>/*draw a red square of 100*100 at the coordinate (nflip*100, 0) of the back surface*/</nobr></div>
<div style="position: absolute; top: 33850px; left: 127px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33850px; left: 216px;"><nobr>GpRectFill(NULL, &amp;gpDraw[nflip], nflip * <font color="#ff0000" face="Times">100+50</font>, <font color="#ff0000" face="Times">100</font>, <font color="#ff0000" face="Times">100</font>, <font color="#ff0000" face="Times">100</font>, GPC_SC_RED);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33863px; left: 127px;"><nobr>25:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33863px; left: 216px;"><nobr>GpSurfaceFlip(&amp;gpDraw[nflip++]); <font color="#008000" face="Times">// Change back surface to primary surface</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33877px; left: 127px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33877px; left: 216px;"><nobr>nflip %= <font color="#ff0000" face="Times">2</font>;  <font color="#008000" face="Times">//save reference value of previous primary surface as nflip, the reference index of </font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33890px; left: 295px;"><nobr>back surface</nobr></div>
<div style="position: absolute; top: 33904px; left: 127px;"><nobr>27:</nobr></div>
<div style="position: absolute; top: 33904px; left: 216px;"><nobr>/* time delay for about 1000msec */</nobr></div>
<div style="position: absolute; top: 33917px; left: 127px;"><nobr>28:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33917px; left: 216px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33931px; left: 127px;"><nobr>29:</nobr></div>
<div style="position: absolute; top: 33944px; left: 127px;"><nobr>30:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 33944px; left: 216px;"><nobr>while <font color="#000000" face="Times">( ( GpTickCountGet() - n_tick ) &lt; </font><font color="#ff0000" face="Times">1000</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33958px; left: 127px;"><nobr>31:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33958px; left: 246px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 33971px; left: 127px;"><nobr>32:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 33971px; left: 187px;"><nobr>}</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 34029px; left: 127px;"><nobr>The above codes will draw the squares on each surface in different places and show them</nobr></div>
<div style="position: absolute; top: 34056px; left: 127px;"><nobr>alternately for 1 second. Thus, two different squares will be shown on the LCD.</nobr></div>
<div style="position: absolute; top: 34084px; left: 127px;"><nobr>The <b>GpSurfaceFlip() </b>function alternates the LCD screen which is carried out in Line 25 of the </nobr></div>
<div style="position: absolute; top: 34110px; left: 127px;"><nobr>example.</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 33300px; left: 248px;"><nobr><b>GpDraw[0]</b></nobr></div>
<div style="position: absolute; top: 33300px; left: 550px;"><nobr><b>GpDraw[1]</b></nobr></div>
<div style="position: absolute; top: 33365px; left: 200px;"><nobr>(50,100)</nobr></div>
<div style="position: absolute; top: 33365px; left: 577px;"><nobr>(150,100)</nobr></div>
</span></font>

<div style="position: absolute; top: 34276px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="28"><b>Page 28</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 34424px; left: 127px;"><nobr>25:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 34424px; left: 216px;"><nobr>GpSurfaceFlip(&amp;gpDraw[nflip++]); <font color="#008000" face="Times">// change back surface to primary surface </font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 34455px; left: 127px;"><nobr>Variable nflip is the  index  that alternates  the 2 surfaces by repeating 0 and 1. A detailed </nobr></div>
<div style="position: absolute; top: 34483px; left: 127px;"><nobr>explanation of <b>GpSurfaceFlip(… ) </b>is as follows.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 34519px; left: 127px;"><nobr>void <font color="#000000" face="Times">GpSurfaceFlip(GPDRAWSURFACE * ptgpds);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 34532px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 34532px; left: 156px;"><nobr>&lt;arg 1&gt;</nobr></div>
<div style="position: absolute; top: 34532px; left: 216px;"><nobr>GPDRAWSURFACE * ptgpds</nobr></div>
<div style="position: absolute; top: 34546px; left: 216px;"><nobr>Address of the structure body of the surface to be displayed.</nobr></div>
<div style="position: absolute; top: 34559px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 34590px; left: 127px;"><nobr>The next codes makes each surface last 1 second.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 34627px; left: 127px;"><nobr>28:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 34627px; left: 216px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 34640px; left: 127px;"><nobr>29:</nobr></div>
<div style="position: absolute; top: 34654px; left: 127px;"><nobr>30:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 34654px; left: 216px;"><nobr>while <font color="#000000" face="Times">( ( GpTickCountGet() - n_tick ) &lt; </font><font color="#ff0000" face="Times">1000</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 34686px; left: 127px;"><nobr><b>GpTickCountGet() </b>is the function showing the value of current system tick counter. 1 Tick </nobr></div>
<div style="position: absolute; top: 34712px; left: 127px;"><nobr>represents 1 msec, so 3000 msec will be 3 seconds.</nobr></div>
<div style="position: absolute; top: 34740px; left: 127px;"><nobr>Below is the definition of <b>GpTickCountGet(… )</b>.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 34775px; left: 127px;"><nobr>unsigned int <font color="#000000" face="Times">GpTickCountGet(</font>void<font color="#000000" face="Times">);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 34789px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 34789px; left: 156px;"><nobr>&lt;return&gt; Range of the system’s present tick counter is 0x000000000xFFFFFFFF.</nobr></div>
<div style="position: absolute; top: 34802px; left: 127px;"><nobr>*/</nobr></div>
</span></font>

<div style="position: absolute; top: 35539px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="29"><b>Page 29</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35819px; left: 154px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 35819px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35832px; left: 154px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 35832px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35846px; left: 154px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 35846px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35859px; left: 154px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 35859px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35873px; left: 154px;"><nobr>5:</nobr></div>
<div style="position: absolute; top: 35886px; left: 154px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 35886px; left: 183px;"><nobr>GPDRAWSURFACE gpDraw;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35900px; left: 154px;"><nobr>7:</nobr></div>
<div style="position: absolute; top: 35913px; left: 154px;"><nobr>8:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 35913px; left: 183px;"><nobr>void <font color="#000000" face="Times">GpMain(</font>void * <font color="#000000" face="Times">arg)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35927px; left: 154px;"><nobr>9:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 35927px; left: 183px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35940px; left: 154px;"><nobr>10:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 35940px; left: 214px;"><nobr>GpLcdSurfaceGet(&amp;gpDraw, <font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35954px; left: 154px;"><nobr>11:</nobr></div>
<div style="position: absolute; top: 35967px; left: 154px;"><nobr>12:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 35967px; left: 214px;"><nobr>GpRectFill(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw.buf_w, gpDraw.buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 35981px; left: 154px;"><nobr>13:</nobr></div>
<div style="position: absolute; top: 35994px; left: 154px;"><nobr>14:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 35994px; left: 214px;"><nobr>GpSurfaceSet(&amp;gpDraw);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36008px; left: 154px;"><nobr>15:</nobr></div>
<div style="position: absolute; top: 36021px; left: 154px;"><nobr>16:</nobr></div>
<div style="position: absolute; top: 36035px; left: 154px;"><nobr>17:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 36035px; left: 214px;"><nobr>GpTextOut(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">10</font>, <font color="#ff0000" face="Times">10</font>, (<font color="#0000ff" face="Times">char</font>*)<font color="#808080" face="Times">"<b><span class="goohl0">GP32</span></b> TextOut Example!"</font>, <font color="#ff0000" face="Times">0x00</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36048px; left: 154px;"><nobr>18:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 36048px; left: 214px;"><nobr>GpTextOut(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">10</font>, <font color="#ff0000" face="Times">40</font>, (<font color="#0000ff" face="Times">char</font>*)<font color="#808080" face="Times">" 1.Example1\n 2.Example2\n 3.Example3"</font>,</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36062px; left: 154px;"><nobr>19:</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 36062px; left: 273px;"><nobr>0xe0<font color="#000000" face="Times">);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36075px; left: 154px;"><nobr>20:</nobr></div>
<div style="position: absolute; top: 36089px; left: 154px;"><nobr>21:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 36089px; left: 214px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36102px; left: 154px;"><nobr>22:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 36102px; left: 243px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36116px; left: 154px;"><nobr>23: <font color="#000000" face="Times">}</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 35690px; left: 127px;"><nobr><b>3.5 Character Output</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 35746px; left: 127px;"><nobr>Function for character output is  <b>GpTextOut()</b>. Use it to output characters of desired color </nobr></div>
<div style="position: absolute; top: 35772px; left: 127px;"><nobr>wherever you want.</nobr></div>
<div style="position: absolute; top: 36151px; left: 275px;"><nobr><b>&lt;List 3-4&gt; Example Source of Character Output</b></nobr></div>
<div style="position: absolute; top: 36204px; left: 127px;"><nobr>The above example is very simple. It will be easier to understand once the user learns how to </nobr></div>
<div style="position: absolute; top: 36231px; left: 127px;"><nobr>use GpTextOut() it. Below is the definition of GpTextOut(… ).</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 36268px; left: 127px;"><nobr>void <font color="#000000" face="Times">GpTextOut(GPDRAWTAG * gptag, GPDRAWSURFACE * ptgpds, </font>int <font color="#000000" face="Times">x, </font>int <font color="#000000" face="Times">y,</font></nobr></div>
<div style="position: absolute; top: 36281px; left: 210px;"><nobr>unsigned char<font color="#000000" face="Times">* sout, </font>unsigned char <font color="#000000" face="Times">color);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 36295px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 36308px; left: 156px;"><nobr>&lt;arg 1&gt;</nobr></div>
<div style="position: absolute; top: 36308px; left: 216px;"><nobr>GPDRAWTAG * gptag</nobr></div>
<div style="position: absolute; top: 36322px; left: 216px;"><nobr>Address of structure body variable designating the clipping area of output</nobr></div>
<div style="position: absolute; top: 36335px; left: 156px;"><nobr>&lt;arg 2&gt;</nobr></div>
<div style="position: absolute; top: 36335px; left: 216px;"><nobr>GPDRAWSURFACE * ptgpds</nobr></div>
<div style="position: absolute; top: 36349px; left: 216px;"><nobr>Address of structure body variable designating the surface for output</nobr></div>
<div style="position: absolute; top: 36362px; left: 156px;"><nobr>&lt;arg 3&gt; int x</nobr></div>
<div style="position: absolute; top: 36376px; left: 216px;"><nobr>x coordinate for starting output</nobr></div>
<div style="position: absolute; top: 36389px; left: 156px;"><nobr>&lt;arg 4&gt; int y</nobr></div>
<div style="position: absolute; top: 36403px; left: 216px;"><nobr>y coordinate for starting output</nobr></div>
<div style="position: absolute; top: 36416px; left: 156px;"><nobr>&lt;arg 5&gt; unsigned char * sout</nobr></div>
<div style="position: absolute; top: 36430px; left: 216px;"><nobr>Address of variable containing string for output</nobr></div>
<div style="position: absolute; top: 36443px; left: 156px;"><nobr>&lt;arg 6&gt; unsinged char color</nobr></div>
<div style="position: absolute; top: 36457px; left: 216px;"><nobr>Value designating the color of string </nobr></div>
<div style="position: absolute; top: 36470px; left: 127px;"><nobr>*/</nobr></div>
</span></font>

<div style="position: absolute; top: 36802px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="30"><b>Page 30</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 36952px; left: 127px;"><nobr><b>5. Input System</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 37007px; left: 135px;"><nobr><b>5-1. Overview </b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 37064px; left: 135px;"><nobr>The <b><span class="goohl0">GP32</span></b> input system is comprised of a joystick on the left and function buttons on the right.</nobr></div>
<div style="position: absolute; top: 37415px; left: 335px;"><nobr><b>&lt;Figure 4-1&gt; <b><span class="goohl0">GP32</span></b> Input System</b></nobr></div>
<div style="position: absolute; top: 37469px; left: 127px;"><nobr>The START button is located on the left of the <b><span class="goohl0">GP32</span></b> as a function key and in the top left there is </nobr></div>
<div style="position: absolute; top: 37496px; left: 127px;"><nobr>the LEFT button. The <b><span class="goohl0">GP32</span></b> has  precise directional control with the 8-way directional  joystick </nobr></div>
<div style="position: absolute; top: 37523px; left: 127px;"><nobr>(top, bottom, left, right, left top, left bottom, right top, right bottom). In addition, the <b><span class="goohl0">GP32</span></b> has 3 </nobr></div>
<div style="position: absolute; top: 37550px; left: 127px;"><nobr>function keys (A, B, Selection) and the RIGHT button on the right.</nobr></div>
<div style="position: absolute; top: 37577px; left: 127px;"><nobr>The LEFT key on the top left is recognized as F2 (presently FL), the RIGHT key on the top right </nobr></div>
<div style="position: absolute; top: 37604px; left: 127px;"><nobr>as  F1  (presently  FR),  the  A  key on  the right  as  ENTER  (presently  FA),  the  B  key  as  F3 </nobr></div>
<div style="position: absolute; top: 37631px; left: 127px;"><nobr>(presently FB) and the START and SELECT buttons as respectively START and SELECT in </nobr></div>
<div style="position: absolute; top: 37658px; left: 127px;"><nobr>your programming languages.</nobr></div>
</span></font>

<div style="position: absolute; top: 38065px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="31"><b>Page 31</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 38217px; left: 135px;"><nobr><b>5.2 Joystick and Function Button Input</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 38273px; left: 127px;"><nobr>Let’s take a look into examples of programming the joystick and function buttons which are the </nobr></div>
<div style="position: absolute; top: 38300px; left: 127px;"><nobr>most important input devices.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38367px; left: 146px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38367px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38381px; left: 146px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38381px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38394px; left: 146px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38394px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38408px; left: 146px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38408px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38421px; left: 146px;"><nobr>5:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38421px; left: 176px;"><nobr>#include <font color="#999999" face="Times">"gpfont.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38435px; left: 146px;"><nobr>6:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38435px; left: 176px;"><nobr>#include <font color="#999999" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38448px; left: 146px;"><nobr>7:</nobr></div>
<div style="position: absolute; top: 38462px; left: 146px;"><nobr>8:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38462px; left: 176px;"><nobr>GPDRAWSURFACE gpDraw[<font color="#ff0000" face="Times">2</font>];</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38475px; left: 146px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38475px; left: 176px;"><nobr>int <font color="#000000" face="Times">nflip;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38489px; left: 146px;"><nobr>10:</nobr></div>
<div style="position: absolute; top: 38502px; left: 146px;"><nobr>11: <font color="#0000ff" face="Times">void </font><font color="#000000" face="Times">GpMain</font>(<font color="#0000ff" face="Times">void </font>*arg)</nobr></div>
<div style="position: absolute; top: 38516px; left: 146px;"><nobr>12: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 38529px; left: 146px;"><nobr>13:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38529px; left: 206px;"><nobr>int <font color="#000000" face="Times">i;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38543px; left: 146px;"><nobr>14:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38543px; left: 206px;"><nobr>unsigned int <font color="#000000" face="Times">n_tick;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38556px; left: 146px;"><nobr>15:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38556px; left: 206px;"><nobr>unsigned char <font color="#000000" face="Times">keydata;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38570px; left: 146px;"><nobr>16:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38570px; left: 206px;"><nobr>int <font color="#000000" face="Times">pos_x, pos_y;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38583px; left: 146px;"><nobr>17:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38583px; left: 206px;"><nobr>int <font color="#000000" face="Times">ExKey;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38597px; left: 146px;"><nobr>18:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38597px; left: 206px;"><nobr>for <font color="#000000" face="Times">( i = </font><font color="#ff0000" face="Times">0 </font><font color="#000000" face="Times">; i &lt; </font><font color="#ff0000" face="Times">2 </font><font color="#000000" face="Times">; i++)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38610px; left: 146px;"><nobr>19</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38610px; left: 206px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38624px; left: 146px;"><nobr>20:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38624px; left: 235px;"><nobr>GpLcdSurfaceGet(<font color="#008000" face="Times">&amp;</font>gpDraw[i], i);  </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38637px; left: 146px;"><nobr>21:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38637px; left: 235px;"><nobr>GpRectFill(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[i], 0, 0, gpDraw[i].buf_w, gpDraw[i].buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38651px; left: 146px;"><nobr>22:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38651px; left: 206px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38664px; left: 146px;"><nobr>23:</nobr></div>
<div style="position: absolute; top: 38678px; left: 146px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38678px; left: 206px;"><nobr>GpSurfaceSet<font color="#008000" face="Times">(&amp;</font>gpDraw[<font color="#ff0000" face="Times">0</font>]); <font color="#008000" face="Times">//This function sets the gpDraw[0] to the primary surface.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38691px; left: 146px;"><nobr>25:</nobr></div>
<div style="position: absolute; top: 38705px; left: 146px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38705px; left: 206px;"><nobr>nflip <font color="#008000" face="Times">= </font>1; <font color="#008000" face="Times">//gpDraw[1]</font><font color="#008000" face="Times">이 </font><font color="#008000" face="Times">This function indicates gpDraw[1] is the back surface. </font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38718px; left: 146px;"><nobr>27:</nobr></div>
<div style="position: absolute; top: 38732px; left: 146px;"><nobr>28:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38732px; left: 206px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38745px; left: 146px;"><nobr>29:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38745px; left: 206px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38759px; left: 146px;"><nobr>30:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38759px; left: 235px;"><nobr>pos_x <font color="#008000" face="Times">= </font><font color="#ff0000" face="Times">0</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38772px; left: 146px;"><nobr>31:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38772px; left: 235px;"><nobr>pos_y <font color="#008000" face="Times">= </font><font color="#ff0000" face="Times">0</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38786px; left: 146px;"><nobr>32:</nobr></div>
<div style="position: absolute; top: 38799px; left: 146px;"><nobr>33:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38799px; left: 237px;"><nobr>GpKeyGetEx(<font color="#008000" face="Times">&amp;</font>ExKey);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38813px; left: 146px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38813px; left: 235px;"><nobr>keydata <font color="#008000" face="Times">= </font>ExKey <font color="#008000" face="Times">&amp; </font><font color="#ff0000" face="Times">0xff</font><font color="#008000" face="Times">;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38826px; left: 146px;"><nobr>35:</nobr></div>
<div style="position: absolute; top: 38840px; left: 146px;"><nobr>36:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38840px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata </font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_LEFT ) </font><font color="#008000" face="Times">== </font><font color="#000000" face="Times">GPC_VK_LEFT )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38853px; left: 146px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38853px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38867px; left: 146px;"><nobr>38:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38867px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font><font color="#999999" face="Times">*)"LEFT key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38880px; left: 146px;"><nobr>39:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38880px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38894px; left: 146px;"><nobr>40:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38894px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38907px; left: 146px;"><nobr>41:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38907px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata</font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_UP ) </font><font color="#008000" face="Times">== </font><font color="#000000" face="Times">GPC_VK_UP )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38921px; left: 146px;"><nobr>42:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38921px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38934px; left: 146px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38934px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font>*)<font color="#999999" face="Times">"UP key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38948px; left: 146px;"><nobr>44:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38948px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38961px; left: 146px;"><nobr>45:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38961px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38975px; left: 146px;"><nobr>46:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 38975px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata </font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_RIGHT ) </font><font color="#008000" face="Times">== </font><font color="#000000" face="Times">GPC_VK_RIGHT )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 38988px; left: 146px;"><nobr>47:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 38988px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39002px; left: 146px;"><nobr>48:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39002px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font>*)<font color="#999999" face="Times">"RIGHT key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39015px; left: 146px;"><nobr>49:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39015px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39029px; left: 146px;"><nobr>50:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39029px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39042px; left: 146px;"><nobr>51:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39042px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata </font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_DOWN ) </font><font color="#008000" face="Times">== </font><font color="#000000" face="Times">GPC_VK_DOWN )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39056px; left: 146px;"><nobr>52:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39056px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39069px; left: 146px;"><nobr>53:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39069px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font>*)<font color="#999999" face="Times">"DOWN key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39083px; left: 146px;"><nobr>54:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39083px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39096px; left: 146px;"><nobr>55:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39096px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39110px; left: 146px;"><nobr>56:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39110px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata </font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_F1 ) </font><font color="#008000" face="Times">== </font><font color="#000000" face="Times">GPC_VK_F1 )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39123px; left: 146px;"><nobr>57:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39123px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39137px; left: 146px;"><nobr>58:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39137px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font>*)<font color="#999999" face="Times">"UP RIGHT key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39150px; left: 146px;"><nobr>59:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39150px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39164px; left: 146px;"><nobr>60:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39164px; left: 235px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 39328px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="32"><b>Page 32</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 39995px; left: 269px;"><nobr><b>&lt;List 4-1-1&gt; Example source to output a message</b></nobr></div>
<div style="position: absolute; top: 40022px; left: 294px;"><nobr><b>to the screen based on the input key value</b></nobr></div>
<div style="position: absolute; top: 40076px; left: 127px;"><nobr>The key API in the examples listed above is the GpKeyGetEx(). This function returns the current </nobr></div>
<div style="position: absolute; top: 40103px; left: 127px;"><nobr>state of the <b><span class="goohl0">GP32</span></b> joystick and buttons, which displays the current input status on the LCD. </nobr></div>
<div style="position: absolute; top: 40130px; left: 127px;"><nobr>It defines the variable to get the input key value in the 15</nobr></div>
</span></font>
<font face="Times" size="2"><span style="font-size: 8px; font-family: Times;">
<div style="position: absolute; top: 40126px; left: 516px;"><nobr>th</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40130px; left: 531px;"><nobr>and 17</nobr></div>
</span></font>
<font face="Times" size="2"><span style="font-size: 8px; font-family: Times;">
<div style="position: absolute; top: 40126px; left: 577px;"><nobr>th</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40130px; left: 591px;"><nobr>lines of the list and in  the</nobr></div>
<div style="position: absolute; top: 40157px; left: 127px;"><nobr>33</nobr></div>
</span></font>
<font face="Times" size="2"><span style="font-size: 8px; font-family: Times;">
<div style="position: absolute; top: 40153px; left: 143px;"><nobr>rd</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40157px; left: 157px;"><nobr>and 34</nobr></div>
</span></font>
<font face="Times" size="2"><span style="font-size: 8px; font-family: Times;">
<div style="position: absolute; top: 40153px; left: 201px;"><nobr>th</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40157px; left: 215px;"><nobr>lines it actually gets the input value. </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 40192px; left: 127px;"><nobr>15:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40192px; left: 187px;"><nobr>unsigned char <font color="#000000" face="Times">keydata;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 40205px; left: 127px;"><nobr>17:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40205px; left: 187px;"><nobr>int <font color="#000000" face="Times">ExKey;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 40232px; left: 127px;"><nobr>33:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40232px; left: 187px;"><nobr>GpKeyGetEx(<font color="#008000" face="Times">&amp;</font>ExKey);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 40246px; left: 127px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40246px; left: 187px;"><nobr>keydata<font color="#008000" face="Times">= </font>ExKey <font color="#008000" face="Times">&amp; </font><font color="#ff0000" face="Times">0xff</font><font color="#008000" face="Times">;</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40292px; left: 127px;"><nobr>Finally, the  “if clauses”in  the 35</nobr></div>
</span></font>
<font face="Times" size="2"><span style="font-size: 8px; font-family: Times;">
<div style="position: absolute; top: 40288px; left: 342px;"><nobr>th</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40292px; left: 357px;"><nobr>through 85</nobr></div>
</span></font>
<font face="Times" size="2"><span style="font-size: 8px; font-family: Times;">
<div style="position: absolute; top: 40288px; left: 428px;"><nobr>th</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40292px; left: 442px;"><nobr>lines output the text based on these key values. </nobr></div>
<div style="position: absolute; top: 40319px; left: 127px;"><nobr>Each value for the state property is defined in the gpdef.h file.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40381px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40381px; left: 187px;"><nobr>GPC_VK_NONE</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40381px; left: 306px;"><nobr>0x00  </nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40394px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40394px; left: 187px;"><nobr>GPC_VK_LEFT</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40394px; left: 306px;"><nobr>0x01</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40408px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40408px; left: 187px;"><nobr>GPC_VK_UP</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40408px; left: 306px;"><nobr>0x08</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40421px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40421px; left: 187px;"><nobr>GPC_VK_RIGHT</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40421px; left: 306px;"><nobr>0x04</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40435px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40435px; left: 187px;"><nobr>GPC_VK_DOWN</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40435px; left: 306px;"><nobr>0x02</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39482px; left: 146px;"><nobr>61:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39482px; left: 235px;"><nobr>if<font color="#000000" face="Times">( ( keydata&amp; GPC_VK_F2 ) </font><font color="#008000" face="Times">== </font><font color="#000000" face="Times">GPC_VK_F2 )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39495px; left: 146px;"><nobr>62</nobr></div>
<div style="position: absolute; top: 39495px; left: 176px;"><nobr>:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39495px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39509px; left: 146px;"><nobr>63:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39509px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char </font>*)<font color="#999999" face="Times">"UP LEFT key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39522px; left: 146px;"><nobr>64:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39522px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= 20;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39536px; left: 146px;"><nobr>65:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39536px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39549px; left: 146px;"><nobr>66:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39549px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata</font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_F3) == GPC_VK_F3 )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39563px; left: 146px;"><nobr>67:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39563px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39576px; left: 146px;"><nobr>68:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39576px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char </font>*)<font color="#999999" face="Times">"B key pressed" </font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39590px; left: 146px;"><nobr>69:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39590px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= 20;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39603px; left: 146px;"><nobr>70:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39603px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39617px; left: 146px;"><nobr>71:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39617px; left: 235px;"><nobr>if <font color="#000000" face="Times">( ( keydata &amp; GPC_VK_ENTER) == GPC_VK_ENTER )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39630px; left: 146px;"><nobr>72:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39630px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39644px; left: 146px;"><nobr>73:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39644px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char </font>*)<font color="#999999" face="Times">"A key pressed" </font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39657px; left: 146px;"><nobr>74:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39657px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font><font color="#008000" face="Times">;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39671px; left: 146px;"><nobr>75:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39671px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39684px; left: 146px;"><nobr>76:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39684px; left: 235px;"><nobr>if <font color="#000000" face="Times">(ExKey </font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_START)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39698px; left: 146px;"><nobr>77: </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39698px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39711px; left: 146px;"><nobr>78: </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39711px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char </font>*)<font color="#999999" face="Times">"START key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39725px; left: 146px;"><nobr>79:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39725px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39738px; left: 146px;"><nobr>80:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39738px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39752px; left: 146px;"><nobr>81:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39752px; left: 235px;"><nobr>if <font color="#000000" face="Times">(ExKey </font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_SELECT)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39765px; left: 146px;"><nobr>82: </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39765px; left: 237px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39779px; left: 146px;"><nobr>83: </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39779px; left: 266px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char </font>*)<font color="#999999" face="Times">"SELECT key pressed" </font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39792px; left: 146px;"><nobr>84:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39792px; left: 266px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39806px; left: 146px;"><nobr>85:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39806px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39819px; left: 146px;"><nobr>86:</nobr></div>
<div style="position: absolute; top: 39833px; left: 146px;"><nobr>87:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39833px; left: 235px;"><nobr>GpSurfaceFlip(<font color="#008000" face="Times">&amp;</font>gpDraw[nflip++]);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39846px; left: 146px;"><nobr>88:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39846px; left: 235px;"><nobr>nflip <font color="#008000" face="Times">%= </font><font color="#ff0000" face="Times">2</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39860px; left: 146px;"><nobr>89:</nobr></div>
<div style="position: absolute; top: 39873px; left: 146px;"><nobr>90:</nobr></div>
<div style="position: absolute; top: 39873px; left: 235px;"><nobr>/*about 400msec of time delay*/</nobr></div>
<div style="position: absolute; top: 39887px; left: 146px;"><nobr>91:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39887px; left: 235px;"><nobr>n_tick <font color="#008000" face="Times">= </font>GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39900px; left: 146px;"><nobr>92:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 39900px; left: 235px;"><nobr>while <font color="#000000" face="Times">( ( GpTickCountGet() - n_tick ) </font><font color="#008000" face="Times">&lt; </font><font color="#ff0000" face="Times">400</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39914px; left: 146px;"><nobr>93:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39914px; left: 235px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39927px; left: 146px;"><nobr>94:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 39927px; left: 206px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 39941px; left: 146px;"><nobr>95: <font color="#000000" face="Times">}</font></nobr></div>
</span></font>

<div style="position: absolute; top: 40591px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="33"><b>Page 33</b></a></font></td></tr></tbody></table></div><font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40739px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40739px; left: 187px;"><nobr>GPC_VK_START</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40739px; left: 306px;"><nobr>0x100</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40753px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40753px; left: 187px;"><nobr>GPC_VK_SELECT</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40753px; left: 306px;"><nobr>0x200</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40780px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40780px; left: 187px;"><nobr>GPC_VK_FA</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40780px; left: 306px;"><nobr>GPC_VK_ENTER</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40780px; left: 425px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40780px; left: 485px;"><nobr>GPC_VK_ENTER</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40780px; left: 603px;"><nobr>0x40 <font color="#008000" face="Times">//AT OLD, VK_F1</font></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40793px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40793px; left: 187px;"><nobr>GPC_VK_FB</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40793px; left: 306px;"><nobr>GPC_VK_F3</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40793px; left: 425px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40793px; left: 485px;"><nobr>GPC_VK_F3</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40793px; left: 603px;"><nobr>0x20 <font color="#008000" face="Times">//AT OLD, VK_F2</font></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40807px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40807px; left: 187px;"><nobr>GPC_VK_FL</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40807px; left: 306px;"><nobr>GPC_VK_F2</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40807px; left: 425px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40807px; left: 485px;"><nobr>GPC_VK_F2</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40807px; left: 603px;"><nobr>0x10 <font color="#008000" face="Times">//AT OLD, VK_F3</font></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40820px; left: 127px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40820px; left: 187px;"><nobr>GPC_VK_FR</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40820px; left: 306px;"><nobr>GPC_VK_F1</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 40820px; left: 425px;"><nobr>#define</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 40820px; left: 485px;"><nobr>GPC_VK_F1</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40820px; left: 603px;"><nobr>0x80 <font color="#008000" face="Times">//AT OLD, VK_ENTER</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 40853px; left: 127px;"><nobr>The constant value corresponding to the input key has been defined in the following figure.</nobr></div>
<div style="position: absolute; top: 41177px; left: 210px;"><nobr><b>&lt;Figure 4-2&gt; Defined constant values corresponding to input keys</b></nobr></div>
<div style="position: absolute; top: 41528px; left: 221px;"><nobr><b>&lt;List 4-1-2&gt; An example of using the GpKeyChanged() function</b></nobr></div>
<div style="position: absolute; top: 41555px; left: 127px;"><nobr>There is a close correspondence between the GpKeyChanged() function and the GpKeyGet() </nobr></div>
<div style="position: absolute; top: 41582px; left: 127px;"><nobr>function. The GpKeyChanged() function is the variable to indicate the changes made to the </nobr></div>
<div style="position: absolute; top: 41609px; left: 127px;"><nobr>input key status between each GpKeyGet() function calls. </nobr></div>
<div style="position: absolute; top: 41663px; left: 127px;"><nobr>After comparing the KEY values returned when the GpKeyGet and GpKeyGetEx functions were </nobr></div>
<div style="position: absolute; top: 41690px; left: 127px;"><nobr>lately called with the latest KEY values, this function performs a bit-set operation on the relevant </nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 40930px; left: 261px;"><nobr><b>GPC_VK_UP</b></nobr></div>
<div style="position: absolute; top: 41087px; left: 258px;"><nobr><b>GPC_VK_DOWN</b></nobr></div>
<div style="position: absolute; top: 41026px; left: 362px;"><nobr><b>GPC_VK_RIGH</b></nobr></div>
<div style="position: absolute; top: 41024px; left: 145px;"><nobr><b>GPC_VK_LEFT</b></nobr></div>
<div style="position: absolute; top: 40962px; left: 484px;"><nobr><b>GPC_VK_FB</b></nobr></div>
<div style="position: absolute; top: 40922px; left: 566px;"><nobr><b>GPC_VK_FA</b></nobr></div>
<div style="position: absolute; top: 41151px; left: 529px;"><nobr><b>GPC_VK_SELECT</b></nobr></div>
<div style="position: absolute; top: 41151px; left: 259px;"><nobr><b>GPC_VK_START</b></nobr></div>
<div style="position: absolute; top: 40895px; left: 153px;"><nobr><b>GPC_VK_FL</b></nobr></div>
<div style="position: absolute; top: 40895px; left: 671px;"><nobr><b>GPC_VK_FR</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41232px; left: 162px;"><nobr>27:</nobr></div>
<div style="position: absolute; top: 41246px; left: 162px;"><nobr>28:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 41246px; left: 222px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41259px; left: 162px;"><nobr>29:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41259px; left: 222px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41273px; left: 162px;"><nobr>30:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41273px; left: 251px;"><nobr>keydata <font color="#008000" face="Times">= </font>GpKeyGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41286px; left: 162px;"><nobr>31:</nobr></div>
<div style="position: absolute; top: 41300px; left: 162px;"><nobr>32:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 41300px; left: 251px;"><nobr>if <font color="#000000" face="Times">( GpKeyChanged() </font><font color="#008000" face="Times">&amp; </font><font color="#ff0000" face="Times">0xff</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41313px; left: 162px;"><nobr>33:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41313px; left: 251px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41327px; left: 162px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41327px; left: 281px;"><nobr>keydata <font color="#008000" face="Times">= </font>GPC_VK_NONE;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41340px; left: 162px;"><nobr>35:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41340px; left: 251px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41354px; left: 162px;"><nobr>36:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 41354px; left: 251px;"><nobr>if <font color="#000000" face="Times">( keydata</font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_F3 )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41367px; left: 162px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41367px; left: 251px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41381px; left: 162px;"><nobr>38:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41381px; left: 281px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font>*)<font color="#999999" face="Times">"B key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41394px; left: 162px;"><nobr>39:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41394px; left: 281px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41408px; left: 162px;"><nobr>40:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41408px; left: 251px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41421px; left: 162px;"><nobr>41:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 41421px; left: 251px;"><nobr>else if<font color="#000000" face="Times">(keydata</font><font color="#008000" face="Times">&amp; </font><font color="#000000" face="Times">GPC_VK_F1 )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41435px; left: 162px;"><nobr>42:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41435px; left: 251px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41448px; left: 162px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41448px; left: 281px;"><nobr>GpTextOut(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, (<font color="#0000ff" face="Times">char</font>*)<font color="#999999" face="Times">"UP key pressed"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41462px; left: 162px;"><nobr>44:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41462px; left: 281px;"><nobr>pos_y <font color="#008000" face="Times">+= </font><font color="#ff0000" face="Times">20</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 41475px; left: 162px;"><nobr>45:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 41475px; left: 251px;"><nobr>}</nobr></div>
</span></font>

<div style="position: absolute; top: 41854px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="34"><b>Page 34</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 42008px; left: 127px;"><nobr>KEY value changes and returns the result.</nobr></div>
</span></font>

<div style="position: absolute; top: 43117px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="35"><b>Page 35</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 43267px; left: 127px;"><nobr><b>6. Graphic System (II)</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 43323px; left: 127px;"><nobr>This chapter explains based on simple examples starting with how to output image files which </nobr></div>
<div style="position: absolute; top: 43350px; left: 127px;"><nobr>are useful in actual game programs onto <b><span class="goohl0">GP32</span></b>’s LCD, then how to output character sprites, and </nobr></div>
<div style="position: absolute; top: 43377px; left: 127px;"><nobr>finally how to move the output positions of images using key input.</nobr></div>
<div style="position: absolute; top: 43404px; left: 127px;"><nobr>The 2 image files below will be used as examples.</nobr></div>
<div style="position: absolute; top: 43431px; left: 127px;"><nobr>One is an image of 320x240 for the background and the other is character sprite of 82x150.</nobr></div>
<div style="position: absolute; top: 43783px; left: 164px;"><nobr><b>&lt;Figure 5-1&gt; Background and Character Sprite (L: Background, R: Character)</b></nobr></div>
<div style="position: absolute; top: 43836px; left: 127px;"><nobr>The image files above are in Windows BMP file,  thus you would need to convert them into </nobr></div>
<div style="position: absolute; top: 43863px; left: 127px;"><nobr>certain files using <b><span class="goohl0">GP32</span></b> Resource Converting Utility in order to use such image resources in the </nobr></div>
<div style="position: absolute; top: 43890px; left: 127px;"><nobr>program. Here, they have been converted to C source file.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 14px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 43918px; left: 127px;"><nobr><b>(See <b><span class="goohl0">GP32</span></b> Dev Utility for more detail.)</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 44215px; left: 213px;"><nobr><b>&lt;Figure 5-2&gt; Process of Converting Actual Image for the Program</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 44036px; left: 176px;"><nobr><b>Bmp_data.bmp</b></nobr></div>
<div style="position: absolute; top: 44054px; left: 161px;"><nobr><b>Windows BMP File</b></nobr></div>
<div style="position: absolute; top: 44045px; left: 536px;"><nobr><b>bmp_data.c</b></nobr></div>
<div style="position: absolute; top: 44063px; left: 534px;"><nobr><b>C source file</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44157px; left: 479px;"><nobr>extern const unsigned char <font color="#000000" face="Times">bmp_data[];</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 44097px; left: 609px;"><nobr><b>Other C file refers </b></nobr></div>
<div style="position: absolute; top: 44115px; left: 611px;"><nobr><b>and uses the data.</b></nobr></div>
<div style="position: absolute; top: 43975px; left: 359px;"><nobr><b><span class="goohl0">GP32</span></b> Resource</nobr></div>
<div style="position: absolute; top: 44002px; left: 351px;"><nobr>Converting Utility</nobr></div>
<div style="position: absolute; top: 44097px; left: 341px;"><nobr><b>Resource Conversion</b></nobr></div>
</span></font>

<div style="position: absolute; top: 44380px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="36"><b>Page 36</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44657px; left: 154px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44657px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44670px; left: 154px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44670px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44684px; left: 154px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44684px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44697px; left: 154px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44697px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44711px; left: 154px;"><nobr>5:</nobr></div>
<div style="position: absolute; top: 44724px; left: 154px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44724px; left: 183px;"><nobr>GPDRAWSURFACE gpDraw[<font color="#ff0000" face="Times">2</font>];</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44738px; left: 154px;"><nobr>7:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44738px; left: 183px;"><nobr>int <font color="#000000" face="Times">nflip;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44751px; left: 154px;"><nobr>8:</nobr></div>
<div style="position: absolute; top: 44765px; left: 154px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44765px; left: 183px;"><nobr>extern const unsigned int <font color="#000000" face="Times">img_back[</font><font color="#ff0000" face="Times">320</font><font color="#000000" face="Times">][</font><font color="#ff0000" face="Times">60</font><font color="#000000" face="Times">];</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44765px; left: 422px;"><nobr>//size (320*240)</nobr></div>
<div style="position: absolute; top: 44778px; left: 154px;"><nobr>10: <font color="#0000ff" face="Times">extern const unsigned int </font><font color="#000000" face="Times">img_char[</font><font color="#ff0000" face="Times">80</font><font color="#000000" face="Times">][</font><font color="#ff0000" face="Times">38</font><font color="#000000" face="Times">];</font></nobr></div>
<div style="position: absolute; top: 44778px; left: 422px;"><nobr>//size (80*150)</nobr></div>
<div style="position: absolute; top: 44792px; left: 154px;"><nobr>11:</nobr></div>
<div style="position: absolute; top: 44805px; left: 154px;"><nobr>12: <font color="#0000ff" face="Times">void </font><font color="#000000" face="Times">GpMain(</font><font color="#0000ff" face="Times">void*</font><font color="#000000" face="Times">arg)</font></nobr></div>
<div style="position: absolute; top: 44819px; left: 154px;"><nobr>13: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 44832px; left: 154px;"><nobr>14:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44832px; left: 214px;"><nobr>int <font color="#000000" face="Times">i;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44846px; left: 154px;"><nobr>15:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44846px; left: 214px;"><nobr>unsigned int <font color="#000000" face="Times">n_tick;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44859px; left: 154px;"><nobr>16:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44859px; left: 214px;"><nobr>unsigned char <font color="#000000" face="Times">keydata;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44873px; left: 154px;"><nobr>17:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44873px; left: 214px;"><nobr>int <font color="#000000" face="Times">pos_x, pos_y;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44886px; left: 154px;"><nobr>18:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 44886px; left: 214px;"><nobr>for <font color="#000000" face="Times">( i = </font><font color="#ff0000" face="Times">0 </font><font color="#000000" face="Times">; i &lt; </font><font color="#ff0000" face="Times">2 </font><font color="#000000" face="Times">; i++)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44900px; left: 154px;"><nobr>19:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44900px; left: 214px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44913px; left: 154px;"><nobr>20:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44913px; left: 243px;"><nobr>GpLcdSurfaceGet(<font color="#008000" face="Times">&amp;</font>gpDraw[i],i);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44927px; left: 154px;"><nobr>21:</nobr></div>
<div style="position: absolute; top: 44940px; left: 154px;"><nobr>22:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44940px; left: 243px;"><nobr>GpRectFill(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[i], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[i].buf_w, gpDraw[i].buf_h,<font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44954px; left: 154px;"><nobr>23:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44954px; left: 214px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44967px; left: 154px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44967px; left: 214px;"><nobr>GpSurfaceSet(<font color="#008000" face="Times">&amp;</font>gpDraw[<font color="#ff0000" face="Times">0</font>]); <font color="#008000" face="Times">//This function sets the gpDraw[0] to the primary surface.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 44981px; left: 154px;"><nobr>25:</nobr></div>
<div style="position: absolute; top: 44994px; left: 154px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 44994px; left: 214px;"><nobr>nflip = <font color="#ff0000" face="Times">1</font>; <font color="#008000" face="Times">//This function indicates that gpDraw is the back surface.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45008px; left: 154px;"><nobr>27:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45008px; left: 214px;"><nobr>pos_x = <font color="#ff0000" face="Times">120</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45021px; left: 154px;"><nobr>28:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45021px; left: 214px;"><nobr>pos_y = <font color="#ff0000" face="Times">80</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45035px; left: 154px;"><nobr>29:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 45035px; left: 214px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45048px; left: 154px;"><nobr>30:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45048px; left: 214px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45062px; left: 154px;"><nobr>31:</nobr></div>
<div style="position: absolute; top: 45062px; left: 243px;"><nobr>//copy a background image to the back surface</nobr></div>
<div style="position: absolute; top: 45075px; left: 154px;"><nobr>32:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45075px; left: 243px;"><nobr>GpBitBlt(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_back, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45089px; left: 154px;"><nobr>33:</nobr></div>
<div style="position: absolute; top: 45089px; left: 243px;"><nobr>//Send a character image with no transparent color to the (0,0) coordinates of the background image.</nobr></div>
<div style="position: absolute; top: 45102px; left: 154px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45102px; left: 243px;"><nobr>GpBitBlt(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45116px; left: 154px;"><nobr>35:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45116px; left: 243px;"><nobr>keydata = GpKeyGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45129px; left: 154px;"><nobr>36:</nobr></div>
<div style="position: absolute; top: 45129px; left: 243px;"><nobr>// The position value of the character varies by the KEY input value.</nobr></div>
<div style="position: absolute; top: 45143px; left: 154px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45143px; left: 243px;"><nobr>if ( keydata <font color="#008000" face="Times">&amp; </font>GPC_VK_LEFT )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45156px; left: 154px;"><nobr>38:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45156px; left: 273px;"><nobr>pos_x--;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45170px; left: 154px;"><nobr>39:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45170px; left: 243px;"><nobr>if ( keydata <font color="#008000" face="Times">&amp; </font>GPC_VK_UP )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45183px; left: 154px;"><nobr>40:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45183px; left: 273px;"><nobr>pos_y--;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45197px; left: 154px;"><nobr>41:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45197px; left: 243px;"><nobr>if ( keydata <font color="#008000" face="Times">&amp; </font>GPC_VK_RIGHT )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45210px; left: 154px;"><nobr>42:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45210px; left: 273px;"><nobr>pos_x++;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45224px; left: 154px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45224px; left: 243px;"><nobr>if ( keydata <font color="#008000" face="Times">&amp; </font>GPC_VK_DOWN )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45237px; left: 154px;"><nobr>44:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45237px; left: 273px;"><nobr>pos_y++;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45251px; left: 154px;"><nobr>45:</nobr></div>
<div style="position: absolute; top: 45251px; left: 243px;"><nobr>//Send a character sprite which has a transparent color (0xef) on the background image of the back </nobr></div>
<div style="position: absolute; top: 45264px; left: 243px;"><nobr>surface. </nobr></div>
<div style="position: absolute; top: 45278px; left: 154px;"><nobr>46:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45278px; left: 243px;"><nobr>GpTransBlt(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], pos_x, pos_y, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>,</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45291px; left: 154px;"><nobr>47:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45291px; left: 303px;"><nobr>(<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, <font color="#ff0000" face="Times">0xef</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45305px; left: 154px;"><nobr>48:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45305px; left: 243px;"><nobr>GpSurfaceFlip(<font color="#008000" face="Times">&amp;</font>gpDraw[nflip++]);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45318px; left: 154px;"><nobr>49:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45318px; left: 243px;"><nobr>nflip %= <font color="#ff0000" face="Times">2</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45332px; left: 154px;"><nobr>50:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45332px; left: 243px;"><nobr>/*about 10msec of time delay*/</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45345px; left: 154px;"><nobr>51:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45345px; left: 243px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45359px; left: 154px;"><nobr>52:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 45359px; left: 243px;"><nobr>while <font color="#000000" face="Times">( ( GpTickCountGet() - n_tick ) &lt; </font><font color="#ff0000" face="Times">10</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45372px; left: 154px;"><nobr>53:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45372px; left: 273px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45386px; left: 154px;"><nobr>54:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 45386px; left: 214px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45399px; left: 154px;"><nobr>55: <font color="#000000" face="Times">}</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 44531px; left: 127px;"><nobr><b>6.1 Drawing Sprite 1</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 44586px; left: 127px;"><nobr>This is an example of putting a sprite of 82x150 on a background of 320x240 on the LCD.</nobr></div>
<div style="position: absolute; top: 45478px; left: 279px;"><nobr><b>&lt;List 5-1&gt; Example Source of Sprite Output (I)</b></nobr></div>
</span></font>

<div style="position: absolute; top: 45643px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="37"><b>Page 37</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 45822px; left: 127px;"><nobr>In addition, get joystick values and make the sprite move up, down, right, and left. A double </nobr></div>
<div style="position: absolute; top: 45849px; left: 127px;"><nobr>buffer is used to make the movements natural.</nobr></div>
<div style="position: absolute; top: 45876px; left: 127px;"><nobr>Firstly, define the data of 320x240  background and  82x150sprite  in  img_background.c  and</nobr></div>
<div style="position: absolute; top: 45903px; left: 127px;"><nobr>img_sprite.c files respectively. How to prepare such image data will be explained later. Declare </nobr></div>
<div style="position: absolute; top: 45930px; left: 127px;"><nobr>in gpmain.c as shown below.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45967px; left: 127px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 45967px; left: 156px;"><nobr>extern const unsigned int <font color="#000000" face="Times">img_background[</font><font color="#ff0000" face="Times">320</font><font color="#000000" face="Times">][</font><font color="#ff0000" face="Times">60</font><font color="#000000" face="Times">]; </font><font color="#008000" face="Times">//size (320*240)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 45980px; left: 127px;"><nobr>10: <font color="#0000ff" face="Times">extern const unsigned int </font><font color="#000000" face="Times">img_sprite[</font><font color="#ff0000" face="Times">82</font><font color="#000000" face="Times">][</font><font color="#ff0000" face="Times">38</font><font color="#000000" face="Times">];</font></nobr></div>
<div style="position: absolute; top: 45980px; left: 395px;"><nobr>//size (82*150)</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 46011px; left: 127px;"><nobr>Complete the initial wok of creating double surface. The draw the background inside the while </nobr></div>
<div style="position: absolute; top: 46038px; left: 127px;"><nobr>loop and the sprite, including the transparent color, on the back surface.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46075px; left: 127px;"><nobr>31:</nobr></div>
<div style="position: absolute; top: 46075px; left: 216px;"><nobr>//copy a background image to the back surface</nobr></div>
<div style="position: absolute; top: 46088px; left: 127px;"><nobr>32:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46088px; left: 216px;"><nobr>GpBitBlt(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_back, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46102px; left: 127px;"><nobr>33:</nobr></div>
<div style="position: absolute; top: 46102px; left: 216px;"><nobr>//Send a character image with no transparent color to the (0,0) coordinates of the background image.</nobr></div>
<div style="position: absolute; top: 46115px; left: 127px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46115px; left: 216px;"><nobr>GpBitBlt(NULL, <font color="#008000" face="Times">&amp;</font>gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>);</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 46160px; left: 127px;"><nobr>This can be realized with the GpBitBlt() function.</nobr></div>
<div style="position: absolute; top: 46187px; left: 127px;"><nobr>Now, get key input and adjust the position of the sprite.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46223px; left: 127px;"><nobr>35:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46223px; left: 216px;"><nobr>keydata = GpKeyGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46237px; left: 127px;"><nobr>36:</nobr></div>
<div style="position: absolute; top: 46237px; left: 216px;"><nobr>// The position value of the character varies by the KEY input value.</nobr></div>
<div style="position: absolute; top: 46250px; left: 127px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46250px; left: 216px;"><nobr>if ( keydata &amp; GPC_VK_LEFT )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46264px; left: 127px;"><nobr>38:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46264px; left: 246px;"><nobr>pos_x--;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46277px; left: 127px;"><nobr>39:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46277px; left: 216px;"><nobr>if ( keydata &amp; GPC_VK_UP )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46291px; left: 127px;"><nobr>40:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46291px; left: 246px;"><nobr>pos_y--;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46304px; left: 127px;"><nobr>41:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46304px; left: 216px;"><nobr>if ( keydata &amp; GPC_VK_RIGHT )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46318px; left: 127px;"><nobr>42:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46318px; left: 246px;"><nobr>pos_x++;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46331px; left: 127px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46331px; left: 216px;"><nobr>if ( keydata &amp; GPC_VK_DOWN )</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46345px; left: 127px;"><nobr>44:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46345px; left: 246px;"><nobr>pos_y++;</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 46376px; left: 127px;"><nobr>Then, draw the sprite with transparent color on the back surface using GpTransBlt() function.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46426px; left: 127px;"><nobr>45:</nobr></div>
<div style="position: absolute; top: 46426px; left: 216px;"><nobr>//Send a character sprite which has a transparent color (0xef) on the background image of the back surface. </nobr></div>
<div style="position: absolute; top: 46439px; left: 127px;"><nobr>46:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46439px; left: 216px;"><nobr>GpTransBlt(NULL, &amp;gpDraw[nflip], pos_x, pos_y, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>,</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46453px; left: 127px;"><nobr>47:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46453px; left: 276px;"><nobr>(<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, <font color="#ff0000" face="Times">0xef</font>);</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 46484px; left: 127px;"><nobr>The following transfers the back surface with the sprite onto the LCD screen.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46520px; left: 127px;"><nobr>48:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46520px; left: 216px;"><nobr>GpSurfaceFlip(&amp;gpDraw[nflip++]);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 46534px; left: 127px;"><nobr>49:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 46534px; left: 216px;"><nobr>nflip %= <font color="#ff0000" face="Times">2</font>;</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 46565px; left: 127px;"><nobr>The only difference between GpBitBlt() and GpTransBlt() functions is whether the concept of </nobr></div>
<div style="position: absolute; top: 46592px; left: 127px;"><nobr>transparent color exists or not, the rest are the same. In other words, GpTransBlt() contains a </nobr></div>
<div style="position: absolute; top: 46619px; left: 127px;"><nobr>a</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 46621px; left: 135px;"><nobr>rgument </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 46619px; left: 188px;"><nobr>designating the transparent color and its function is not copying the desired color of the </nobr></div>
<div style="position: absolute; top: 46646px; left: 127px;"><nobr>image drawn on the surface.</nobr></div>
<div style="position: absolute; top: 46700px; left: 127px;"><nobr>If you follow through the examples above, you will get the screen result shown below. The</nobr></div>
<div style="position: absolute; top: 46727px; left: 127px;"><nobr>sprite moves in the direction the joystick moves.</nobr></div>
</span></font>

<div style="position: absolute; top: 46906px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="38"><b>Page 38</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 47410px; left: 338px;"><nobr><b>&lt;Figure 5-3&gt; Sprite Output (I) </b></nobr></div>
<div style="position: absolute; top: 47463px; left: 127px;"><nobr>This is an explanation of GpBitBlt(… ) function.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 47500px; left: 127px;"><nobr>/* ? copy image from buffer to buffer. */</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 47527px; left: 127px;"><nobr>int <font color="#000000" face="Times">GpBitBlt(GPDRAWTAG * gptag,GPDRAWSURFACE * ptgpds,</font>int <font color="#000000" face="Times">dx,</font>int <font color="#000000" face="Times">dy,</font></nobr></div>
<div style="position: absolute; top: 47540px; left: 187px;"><nobr>int <font color="#000000" face="Times">width,</font>int <font color="#000000" face="Times">height,</font>unsigned char<font color="#000000" face="Times">* src, </font>int <font color="#000000" face="Times">sx,</font>int <font color="#000000" face="Times">sy,</font>int <font color="#000000" face="Times">imgw,</font>int <font color="#000000" face="Times">imgh); </font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 47554px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 47568px; left: 195px;"><nobr>GPDRAWTAG * gptag : clipping square (clipping area is 320 * 240 if the value is NULL)</nobr></div>
<div style="position: absolute; top: 47581px; left: 195px;"><nobr>GPDRAWSURFACE * ptgpds : address of target surface to copy image</nobr></div>
<div style="position: absolute; top: 47595px; left: 195px;"><nobr>int dx,int dy : starting coordinates (x,y) of target to copy image</nobr></div>
<div style="position: absolute; top: 47608px; left: 195px;"><nobr>int width,int height : width and height of area to copy image</nobr></div>
<div style="position: absolute; top: 47622px; left: 195px;"><nobr>unsigned char * src : address of original image buffer</nobr></div>
<div style="position: absolute; top: 47635px; left: 195px;"><nobr>int sx,int sy : starting coordinates (x,y) to copy original image</nobr></div>
<div style="position: absolute; top: 47649px; left: 195px;"><nobr>int imgw,int imgh : size of original image</nobr></div>
<div style="position: absolute; top: 47662px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 47695px; left: 127px;"><nobr>This is an explanation of </nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 47693px; left: 293px;"><nobr>GpTransBlt(..) function.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 47729px; left: 127px;"><nobr>/* ? copy image without transparent color from buffer to buffer.. */</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 47756px; left: 127px;"><nobr>int <font color="#000000" face="Times">GpTransBlt(GPDRAWTAG * gptag,GPDRAWSURFACE * ptgpds,</font>int <font color="#000000" face="Times">dx,</font>int <font color="#000000" face="Times">dy,</font></nobr></div>
<div style="position: absolute; top: 47770px; left: 248px;"><nobr>int <font color="#000000" face="Times">width,</font>int <font color="#000000" face="Times">height,</font>unsigned char <font color="#000000" face="Times">*src,</font>int <font color="#000000" face="Times">sx,</font>int <font color="#000000" face="Times">sy,</font></nobr></div>
<div style="position: absolute; top: 47784px; left: 248px;"><nobr>int <font color="#000000" face="Times">imgw,</font>int <font color="#000000" face="Times">imgh,</font>unsigned char <font color="#000000" face="Times">color);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 47797px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 47811px; left: 181px;"><nobr>GPDRAWTAG * gptag : clipping square (clipping area is 320 * 240 if the value is NULL)</nobr></div>
<div style="position: absolute; top: 47824px; left: 181px;"><nobr>GPDRAWSURFACE * ptgpds : target buffer to copy image</nobr></div>
<div style="position: absolute; top: 47838px; left: 181px;"><nobr>int dx,int dy : coordinates of target to copy image</nobr></div>
<div style="position: absolute; top: 47851px; left: 181px;"><nobr>int width,int height : area to copy image</nobr></div>
<div style="position: absolute; top: 47865px; left: 181px;"><nobr>unsigned char * src : address of original image buffer</nobr></div>
<div style="position: absolute; top: 47878px; left: 181px;"><nobr>int sx,int sy : Starting coordinates to copy original image</nobr></div>
<div style="position: absolute; top: 47892px; left: 181px;"><nobr>int imgw,int imgh : size of original image</nobr></div>
<div style="position: absolute; top: 47905px; left: 181px;"><nobr>unsigned char color: transparent color</nobr></div>
<div style="position: absolute; top: 47919px; left: 127px;"><nobr>*/</nobr></div>
</span></font>

<div style="position: absolute; top: 48169px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="39"><b>Page 39</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48446px; left: 146px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48446px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48459px; left: 146px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48459px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48473px; left: 146px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48473px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48486px; left: 146px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48486px; left: 176px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48500px; left: 146px;"><nobr>5:</nobr></div>
<div style="position: absolute; top: 48513px; left: 146px;"><nobr>6:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48513px; left: 176px;"><nobr>GPDRAWSURFACE gpDraw[<font color="#ff0000" face="Times">2</font>];</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48527px; left: 146px;"><nobr>7:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48527px; left: 176px;"><nobr>int <font color="#000000" face="Times">nflip;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48540px; left: 146px;"><nobr>8:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48540px; left: 176px;"><nobr>extern const unsigned int <font color="#000000" face="Times">img_back[</font><font color="#ff0000" face="Times">320</font><font color="#000000" face="Times">][</font><font color="#ff0000" face="Times">60</font><font color="#000000" face="Times">];</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48540px; left: 414px;"><nobr>//size (320*240)</nobr></div>
<div style="position: absolute; top: 48554px; left: 146px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48554px; left: 176px;"><nobr>extern const unsigned int <font color="#000000" face="Times">img_char[</font><font color="#ff0000" face="Times">80</font><font color="#000000" face="Times">][</font><font color="#ff0000" face="Times">38</font><font color="#000000" face="Times">];</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48554px; left: 414px;"><nobr>//size (80*150)</nobr></div>
<div style="position: absolute; top: 48567px; left: 146px;"><nobr>10:</nobr></div>
<div style="position: absolute; top: 48581px; left: 146px;"><nobr>11: <font color="#0000ff" face="Times">void </font><font color="#000000" face="Times">GpMain(</font><font color="#0000ff" face="Times">void</font><font color="#000000" face="Times">)</font></nobr></div>
<div style="position: absolute; top: 48594px; left: 146px;"><nobr>12: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 48608px; left: 146px;"><nobr>13:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48608px; left: 206px;"><nobr>int <font color="#000000" face="Times">i;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48621px; left: 146px;"><nobr>14:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48621px; left: 206px;"><nobr>unsigned int <font color="#000000" face="Times">n_tick;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48635px; left: 146px;"><nobr>15:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48635px; left: 206px;"><nobr>unsigned char <font color="#000000" face="Times">keydata;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48648px; left: 146px;"><nobr>16:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48648px; left: 206px;"><nobr>int <font color="#000000" face="Times">pos_x, pos_y;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48662px; left: 146px;"><nobr>17:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48662px; left: 206px;"><nobr>int <font color="#000000" face="Times">sprite_dir;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48675px; left: 146px;"><nobr>18:</nobr></div>
<div style="position: absolute; top: 48689px; left: 146px;"><nobr>19:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48689px; left: 206px;"><nobr>for <font color="#000000" face="Times">( i = </font><font color="#ff0000" face="Times">0 </font><font color="#000000" face="Times">; i &lt; </font><font color="#ff0000" face="Times">2 </font><font color="#000000" face="Times">; i++)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48702px; left: 146px;"><nobr>20:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48702px; left: 206px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48716px; left: 146px;"><nobr>21:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48716px; left: 235px;"><nobr>GpLcdSurfaceGet(&amp;gpDraw[i],i);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48729px; left: 146px;"><nobr>22:</nobr></div>
<div style="position: absolute; top: 48743px; left: 146px;"><nobr>23:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48743px; left: 235px;"><nobr>GpRectFill(NULL, &amp;gpDraw[i], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[i].buf_w, gpDraw[i].buf_h,GPC_SC_WHITE);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48756px; left: 146px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48756px; left: 206px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48770px; left: 146px;"><nobr>25:</nobr></div>
<div style="position: absolute; top: 48783px; left: 146px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48783px; left: 206px;"><nobr>GpSurfaceSet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>]); <font color="#008000" face="Times">/This function sets the gpDraw[0] to primary surface</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48797px; left: 146px;"><nobr>27:</nobr></div>
<div style="position: absolute; top: 48810px; left: 146px;"><nobr>28:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48810px; left: 206px;"><nobr>nflip = <font color="#ff0000" face="Times">1</font>; <font color="#008000" face="Times">//This function indicates that the gpDraw[1] is the back surface.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48824px; left: 146px;"><nobr>29:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48824px; left: 206px;"><nobr>pos_x = <font color="#ff0000" face="Times">120</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48837px; left: 146px;"><nobr>30:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48837px; left: 206px;"><nobr>pos_y = <font color="#ff0000" face="Times">80</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48851px; left: 146px;"><nobr>31:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48851px; left: 206px;"><nobr>sprite_dir = <font color="#ff0000" face="Times">0</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48864px; left: 146px;"><nobr>32:</nobr></div>
<div style="position: absolute; top: 48878px; left: 146px;"><nobr>33:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48878px; left: 206px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48891px; left: 146px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48891px; left: 206px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48905px; left: 146px;"><nobr>35:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48905px; left: 235px;"><nobr>keydata = GpKeyGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48918px; left: 146px;"><nobr>36:</nobr></div>
<div style="position: absolute; top: 48918px; left: 235px;"><nobr>//copy the background image to the back surface.</nobr></div>
<div style="position: absolute; top: 48932px; left: 146px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48932px; left: 235px;"><nobr>GpBitBlt(NULL, &amp;gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_back, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48945px; left: 146px;"><nobr>38:</nobr></div>
<div style="position: absolute; top: 48945px; left: 235px;"><nobr>// The position value of a character varies by the KEY input value.</nobr></div>
<div style="position: absolute; top: 48959px; left: 146px;"><nobr>39:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 48959px; left: 235px;"><nobr>if <font color="#000000" face="Times">( keydata &amp; GPC_VK_LEFT )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48972px; left: 146px;"><nobr>40:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48972px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48986px; left: 146px;"><nobr>41:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48986px; left: 266px;"><nobr>sprite_dir = 0;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 48986px; left: 354px;"><nobr>// The original sprite</nobr></div>
<div style="position: absolute; top: 48999px; left: 146px;"><nobr>42:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 48999px; left: 266px;"><nobr>pos_x--;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49013px; left: 146px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49013px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49026px; left: 146px;"><nobr>44:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49026px; left: 235px;"><nobr>if <font color="#000000" face="Times">( keydata &amp; GPC_VK_UP )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49040px; left: 146px;"><nobr>45:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49040px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49053px; left: 146px;"><nobr>46:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49053px; left: 266px;"><nobr>sprite_dir = 0;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49053px; left: 354px;"><nobr>// The original sprite</nobr></div>
<div style="position: absolute; top: 49067px; left: 146px;"><nobr>47:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49067px; left: 266px;"><nobr>pos_y--;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49080px; left: 146px;"><nobr>48:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49080px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49094px; left: 146px;"><nobr>49:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49094px; left: 235px;"><nobr>if <font color="#000000" face="Times">( keydata &amp; GPC_VK_RIGHT )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49107px; left: 146px;"><nobr>50:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49107px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49121px; left: 146px;"><nobr>51:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49121px; left: 266px;"><nobr>sprite_dir =<font color="#ff0000" face="Times">1</font>; <font color="#008000" face="Times">//This function performs the left and right mirroringof a spite.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49134px; left: 146px;"><nobr>52:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49134px; left: 266px;"><nobr>pos_x++;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49148px; left: 146px;"><nobr>53:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49148px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49161px; left: 146px;"><nobr>54:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49161px; left: 235px;"><nobr>if <font color="#000000" face="Times">( keydata &amp; GPC_VK_DOWN )</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49175px; left: 146px;"><nobr>55:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49175px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49188px; left: 146px;"><nobr>56:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49188px; left: 266px;"><nobr>sprite_dir =<font color="#ff0000" face="Times">2</font>; <font color="#008000" face="Times">// This function performs the top and bottom mirroring of a sprite.</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49202px; left: 146px;"><nobr>57:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49202px; left: 266px;"><nobr>pos_y++;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49215px; left: 146px;"><nobr>58:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49215px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49229px; left: 146px;"><nobr>59: </nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49229px; left: 235px;"><nobr>if<font color="#000000" face="Times">(sprite_dir == 0)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49242px; left: 146px;"><nobr>60:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49242px; left: 235px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49256px; left: 146px;"><nobr>61:</nobr></div>
<div style="position: absolute; top: 49269px; left: 146px;"><nobr>62:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49269px; left: 266px;"><nobr>GpBitBlt(NULL,&amp;gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49283px; left: 146px;"><nobr>63:</nobr></div>
<div style="position: absolute; top: 49296px; left: 146px;"><nobr>64:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49296px; left: 266px;"><nobr>GpTransBlt(NULL, &amp;gpDraw[nflip], pos_x, pos_y, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>,</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49310px; left: 146px;"><nobr>65:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49310px; left: 325px;"><nobr>(<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, <font color="#ff0000" face="Times">0xef</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49323px; left: 146px;"><nobr>66:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49323px; left: 235px;"><nobr>}</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 48320px; left: 127px;"><nobr><b>6.2 Drawing Sprite 2</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 48377px; left: 127px;"><nobr>The next we will look at is the examples of using left and right, top and bottom  inversion of a </nobr></div>
<div style="position: absolute; top: 48404px; left: 127px;"><nobr>sprite and an image.</nobr></div>
</span></font>

<div style="position: absolute; top: 49432px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="40"><b>Page 40</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49601px; left: 154px;"><nobr>67:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49601px; left: 214px;"><nobr>else if<font color="#000000" face="Times">(sprite_dir == 1)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49614px; left: 154px;"><nobr>68:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49614px; left: 214px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49628px; left: 154px;"><nobr>69:</nobr></div>
<div style="position: absolute; top: 49628px; left: 262px;"><nobr>//Perform the left and right inversion of the character with no transparent color and send it to the </nobr></div>
<div style="position: absolute; top: 49641px; left: 273px;"><nobr>(0,0) coordinates of the background image.</nobr></div>
<div style="position: absolute; top: 49655px; left: 154px;"><nobr>70:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49655px; left: 260px;"><nobr>GpBitLRBlt(NULL,&amp;gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49668px; left: 154px;"><nobr>71:</nobr></div>
<div style="position: absolute; top: 49668px; left: 262px;"><nobr>//Perform the left and right inversion of the character sprite and output it on the background image </nobr></div>
<div style="position: absolute; top: 49682px; left: 273px;"><nobr>of the back surface</nobr></div>
<div style="position: absolute; top: 49695px; left: 154px;"><nobr>72:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49695px; left: 255px;"><nobr>GpTransLRBlt (NULL, &amp;gpDraw[nflip], pos_x, pos_y, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49709px; left: 154px;"><nobr>73:</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 49709px; left: 362px;"><nobr>0<font color="#000000" face="Times">, </font>0<font color="#000000" face="Times">, </font>80<font color="#000000" face="Times">, </font>150<font color="#000000" face="Times">, </font>0xef<font color="#000000" face="Times">);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49722px; left: 154px;"><nobr>74:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49722px; left: 243px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49736px; left: 154px;"><nobr>75:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49736px; left: 243px;"><nobr>else if<font color="#000000" face="Times">(sprite_dir == 2)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49749px; left: 154px;"><nobr>76:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49749px; left: 243px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49763px; left: 154px;"><nobr>77:</nobr></div>
<div style="position: absolute; top: 49763px; left: 257px;"><nobr>// Perform the top and bottom inversion of the character with no transparent color and send it to the </nobr></div>
<div style="position: absolute; top: 49776px; left: 243px;"><nobr>(0,0) coordinates of the background image.</nobr></div>
<div style="position: absolute; top: 49790px; left: 154px;"><nobr>78:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49790px; left: 260px;"><nobr>GpBitUDBlt(NULL,&amp;gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49803px; left: 154px;"><nobr>79:</nobr></div>
<div style="position: absolute; top: 49803px; left: 262px;"><nobr>// Perform the top and bottom inversion of the character sprite and output it on the background </nobr></div>
<div style="position: absolute; top: 49817px; left: 273px;"><nobr>image of the back surface</nobr></div>
<div style="position: absolute; top: 49830px; left: 154px;"><nobr>80:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49830px; left: 256px;"><nobr>GpTransUDBlt (NULL, &amp;gpDraw[nflip], pos_x, pos_y, <font color="#ff0000" face="Times">80</font>, <font color="#ff0000" face="Times">150</font>, (<font color="#0000ff" face="Times">unsigned char</font>*)img_char, </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49844px; left: 154px;"><nobr>81:</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 49844px; left: 362px;"><nobr>0<font color="#000000" face="Times">, </font>0<font color="#000000" face="Times">, </font>80<font color="#000000" face="Times">, </font>150<font color="#000000" face="Times">, </font>0xef<font color="#000000" face="Times">);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49857px; left: 154px;"><nobr>82:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49857px; left: 243px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49871px; left: 154px;"><nobr>83:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49871px; left: 243px;"><nobr>GpSurfaceFlip(&amp;gpDraw[nflip++]);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49884px; left: 154px;"><nobr>84:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49884px; left: 243px;"><nobr>nflip %= <font color="#ff0000" face="Times">2</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49898px; left: 154px;"><nobr>85:</nobr></div>
<div style="position: absolute; top: 49911px; left: 154px;"><nobr>86:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49911px; left: 243px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49925px; left: 154px;"><nobr>87:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 49925px; left: 243px;"><nobr>while <font color="#000000" face="Times">( ( GpTickCountGet() - n_tick ) &lt; </font><font color="#ff0000" face="Times">10</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 49938px; left: 154px;"><nobr>88:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 49938px; left: 250px;"><nobr>;</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 49977px; left: 276px;"><nobr><b>&lt;List 5-2&gt; Example Source of Sprite Output (II)</b></nobr></div>
</span></font>
<font color="#993300" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(153, 51, 0);">
<div style="position: absolute; top: 50032px; left: 127px;"><nobr>You can perform the left and right inversion of a sprite using the GpTransLRBIt() function. As a </nobr></div>
<div style="position: absolute; top: 50059px; left: 127px;"><nobr>result of the sprite inverting, you can get the following output.</nobr></div>
<div style="position: absolute; top: 50329px; left: 309px;"><nobr><b>&lt;Figure 5-4&gt; Sprite Output Window (II)</b></nobr></div>
<div style="position: absolute; top: 50410px; left: 127px;"><nobr>The GpBitLRBIt() and GpTransLRBIt() functions have been applied to the left picture and the </nobr></div>
<div style="position: absolute; top: 50437px; left: 127px;"><nobr>GpBitUDBIt() and GpTransUDBIt() functions to the right picture. The usage of these functions is </nobr></div>
<div style="position: absolute; top: 50464px; left: 127px;"><nobr>almost identical to the one of  the GpBitBIt() and GpTransBIt() functions. The only difference is </nobr></div>
<div style="position: absolute; top: 50491px; left: 127px;"><nobr>that the sprite output on  the display shows the left and right and the top and bottom inversion. </nobr></div>
<div style="position: absolute; top: 50518px; left: 127px;"><nobr>You can take the advantage of these functions to generate a wide variety of output with small </nobr></div>
<div style="position: absolute; top: 50545px; left: 127px;"><nobr>number of image data.</nobr></div>
</span></font>

<div style="position: absolute; top: 50695px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="41"><b>Page 41</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 50845px; left: 127px;"><nobr><b>7. Sound System</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 50900px; left: 127px;"><nobr><b>7-1 Overview</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 50957px; left: 127px;"><nobr>The <b><span class="goohl0">GP32</span></b> sound system has support for creating PCM sound output and provides effect sound </nobr></div>
<div style="position: absolute; top: 50984px; left: 127px;"><nobr>output capability. To allow PCM  sound that is effect sound despite short output time to output </nobr></div>
<div style="position: absolute; top: 51011px; left: 127px;"><nobr>diverse effect sound, the <b><span class="goohl0">GP32</span></b> system also supports WAV file for Windows. This means the </nobr></div>
<div style="position: absolute; top: 51038px; left: 127px;"><nobr>PCM sound can mix and output up to 4 effect sounds concurrently in real time. The <b><span class="goohl0">GP32</span></b> sound </nobr></div>
<div style="position: absolute; top: 51065px; left: 127px;"><nobr>supports 8- and 16-bit audio data in stereo, with sample rates of 11kHz, 22kHz and 44kHz. The </nobr></div>
<div style="position: absolute; top: 51092px; left: 127px;"><nobr>sound quality is much superior to the one that any other game handheld can support. <b><span class="goohl0">GP32</span></b> also </nobr></div>
<div style="position: absolute; top: 51119px; left: 127px;"><nobr>distinguishes itself by an  earphone port to enable high-quality sound.</nobr></div>
</span></font>

<div style="position: absolute; top: 51958px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="42"><b>Page 42</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52181px; left: 154px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52181px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52194px; left: 154px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52194px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52208px; left: 154px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52208px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52221px; left: 154px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52221px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpmm.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52235px; left: 154px;"><nobr>5:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52235px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpfont.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52248px; left: 154px;"><nobr>6:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52248px; left: 183px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52262px; left: 154px;"><nobr>7:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52262px; left: 183px;"><nobr>GPDRAWSURFACE gpDraw[<font color="#ff0000" face="Times">2</font>];</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52275px; left: 154px;"><nobr>8:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52275px; left: 183px;"><nobr>int <font color="#000000" face="Times">nflip;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52289px; left: 154px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52289px; left: 183px;"><nobr>extern const unsigned char <font color="#000000" face="Times">wav_data[</font><font color="#ff0000" face="Times">21170</font><font color="#000000" face="Times">];</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52289px; left: 422px;"><nobr>//wave data 16bit mono 11160Hz</nobr></div>
<div style="position: absolute; top: 52302px; left: 154px;"><nobr>10: <font color="#0000ff" face="Times">void </font><font color="#000000" face="Times">GpMain(</font><font color="#0000ff" face="Times">void</font><font color="#000000" face="Times">)</font></nobr></div>
<div style="position: absolute; top: 52316px; left: 154px;"><nobr>11: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 52329px; left: 154px;"><nobr>12:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52329px; left: 214px;"><nobr>unsigned char <font color="#000000" face="Times">keydata;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52343px; left: 154px;"><nobr>13:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52343px; left: 214px;"><nobr>unsigned int <font color="#000000" face="Times">n_tick;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52356px; left: 154px;"><nobr>14:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52356px; left: 214px;"><nobr>int <font color="#000000" face="Times">flag_play,i;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52370px; left: 154px;"><nobr>15:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52370px; left: 214px;"><nobr>for <font color="#000000" face="Times">(i=</font><font color="#ff0000" face="Times">0</font><font color="#000000" face="Times">; i&lt;</font><font color="#ff0000" face="Times">2</font><font color="#000000" face="Times">; i++)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52383px; left: 154px;"><nobr>16:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52383px; left: 214px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52397px; left: 154px;"><nobr>17:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52397px; left: 243px;"><nobr>GpLcdSurfaceGet(&amp;gpDraw[i],i);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52410px; left: 154px;"><nobr>18:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52410px; left: 273px;"><nobr>return<font color="#000000" face="Times">;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52424px; left: 154px;"><nobr>19:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52424px; left: 243px;"><nobr>GpRectFill(NULL, &amp;gpDraw[i], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw[i].buf_w, gpDraw[i].buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52437px; left: 154px;"><nobr>20:</nobr></div>
<div style="position: absolute; top: 52451px; left: 154px;"><nobr>21:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52451px; left: 214px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52464px; left: 154px;"><nobr>22:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52464px; left: 214px;"><nobr>GpSurfaceSet(&amp;gpDraw[<font color="#ff0000" face="Times">0</font>]);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52478px; left: 154px;"><nobr>23:</nobr></div>
<div style="position: absolute; top: 52491px; left: 154px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52491px; left: 214px;"><nobr>nflip = <font color="#ff0000" face="Times">1</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52505px; left: 154px;"><nobr>25:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52505px; left: 214px;"><nobr>GpPcmInit(PCM_M11,PCM_16BIT);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52505px; left: 422px;"><nobr>//pcm module, initialize sample rate = 11160Hz, mono (flag 0)</nobr></div>
<div style="position: absolute; top: 52518px; left: 154px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52518px; left: 214px;"><nobr>flag_play = <font color="#ff0000" face="Times">1</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52532px; left: 154px;"><nobr>27:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52532px; left: 214px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short</font>*)wav_data,<font color="#0000ff" face="Times">sizeof</font>(wav_data), <font color="#ff0000" face="Times">0</font>); </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52532px; left: 541px;"><nobr>//This function outputs pcm data.</nobr></div>
<div style="position: absolute; top: 52545px; left: 154px;"><nobr>28:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52545px; left: 214px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52559px; left: 154px;"><nobr>29:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52559px; left: 214px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52572px; left: 154px;"><nobr>30:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52572px; left: 243px;"><nobr>keydata = GpKeyGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52586px; left: 154px;"><nobr>31:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52586px; left: 243px;"><nobr>if <font color="#000000" face="Times">(keydata == GPC_VK_ENTER)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52599px; left: 154px;"><nobr>32:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52599px; left: 243px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52613px; left: 154px;"><nobr>33:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52613px; left: 273px;"><nobr>if <font color="#000000" face="Times">(flag_play == </font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font><font color="#008000" face="Times">//Suspend ongoing output</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52626px; left: 154px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52626px; left: 273px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52640px; left: 154px;"><nobr>35:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52640px; left: 303px;"><nobr>flag_play = <font color="#ff0000" face="Times">0</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52653px; left: 154px;"><nobr>36:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52653px; left: 303px;"><nobr>GpPcmStop();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52667px; left: 154px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52667px; left: 273px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52680px; left: 154px;"><nobr>38:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52680px; left: 273px;"><nobr>else <font color="#008000" face="Times">//Resume the suspended output</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52694px; left: 154px;"><nobr>39:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52694px; left: 273px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52707px; left: 154px;"><nobr>40:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52707px; left: 303px;"><nobr>flag_play = <font color="#ff0000" face="Times">1</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52721px; left: 154px;"><nobr>41:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52721px; left: 303px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data, <font color="#0000ff" face="Times">sizeof</font>(wav_data), <font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52734px; left: 154px;"><nobr>42:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52734px; left: 273px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52748px; left: 154px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52748px; left: 243px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52761px; left: 154px;"><nobr>44:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52761px; left: 243px;"><nobr>GpRectFill(NULL, &amp;gpDraw[nflip], <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">320</font>, <font color="#ff0000" face="Times">240</font>, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52775px; left: 154px;"><nobr>45:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52775px; left: 243px;"><nobr>if <font color="#000000" face="Times">(flag_play)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52788px; left: 154px;"><nobr>46:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52788px; left: 273px;"><nobr>GpTextOut(NULL, &amp;gpDraw[nflip], <font color="#ff0000" face="Times">20</font>, <font color="#ff0000" face="Times">100</font>, (<font color="#0000ff" face="Times">char</font>*)<font color="#808080" face="Times">" </font>Output PCM sound <font color="#808080" face="Times">", </font><font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52815px; left: 154px;"><nobr>47:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52815px; left: 243px;"><nobr>else</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52829px; left: 154px;"><nobr>48:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52829px; left: 273px;"><nobr>GpTextOut(NULL, &amp;gpDraw[nflip], <font color="#ff0000" face="Times">20</font>, <font color="#ff0000" face="Times">100</font>, (<font color="#0000ff" face="Times">char</font>*)<font color="#808080" face="Times">" </font>Stop PCM sound <font color="#808080" face="Times">"</font>, <font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52856px; left: 154px;"><nobr>49:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52856px; left: 243px;"><nobr>GpSurfaceFlip(&amp;gpDraw[nflip++]);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52869px; left: 154px;"><nobr>50:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52869px; left: 243px;"><nobr>nflip %= <font color="#ff0000" face="Times">2</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52883px; left: 154px;"><nobr>51:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52883px; left: 243px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52896px; left: 154px;"><nobr>52:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 52896px; left: 243px;"><nobr>while <font color="#000000" face="Times">( (GpTickCountGet() - n_tick) &lt; </font><font color="#ff0000" face="Times">400</font><font color="#000000" face="Times">) </font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52896px; left: 512px;"><nobr>/* 400msec delay */</nobr></div>
<div style="position: absolute; top: 52910px; left: 154px;"><nobr>53:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52910px; left: 273px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 52923px; left: 154px;"><nobr>54:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 52923px; left: 214px;"><nobr>}</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 52109px; left: 127px;"><nobr><b>7-2 PCM Sound Output</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 52137px; left: 127px;"><nobr>This is an example of PCM(Pulse Coded Modulation) sound output.</nobr></div>
<div style="position: absolute; top: 52948px; left: 244px;"><nobr><b>&lt;List 6-2&gt; Example Source of PCM Sound Effect Output</b></nobr></div>
<div style="position: absolute; top: 53001px; left: 127px;"><nobr>PCM sound is one of the most commonly used sound effect data on the PC. The following 3 </nobr></div>
<div style="position: absolute; top: 53028px; left: 127px;"><nobr>APIs must be used in order to output PCM sound data on <b><span class="goohl0">GP32</span></b>. First, GpPcmInit() function </nobr></div>
<div style="position: absolute; top: 53055px; left: 127px;"><nobr>initializes the sound that you are going to output. Second, GpPcmPlay() outputs the actual </nobr></div>
</span></font>

<div style="position: absolute; top: 53221px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="43"><b>Page 43</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 53373px; left: 127px;"><nobr>sound. Third, GpPcmStop() stops the PCM sound currently being played.</nobr></div>
<div style="position: absolute; top: 53400px; left: 127px;"><nobr>Firstly, the variable to refer to the actual PCM sound data is declared in Line 9 of the List.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53437px; left: 127px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 53437px; left: 156px;"><nobr>extern const unsigned char <font color="#000000" face="Times">wav_data[</font><font color="#ff0000" face="Times">21170</font><font color="#000000" face="Times">];</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53437px; left: 395px;"><nobr>//wave data 16bit mono 11160Hz</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 53468px; left: 127px;"><nobr>The GpPcmInit() function configures the environment where the PCM sound will be played on </nobr></div>
<div style="position: absolute; top: 53495px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b>. It sets the sample rate and mono/stereo of the PCM sound you want to output</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53545px; left: 127px;"><nobr>25:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 53545px; left: 187px;"><nobr>GpPcmInit(<font color="#008000" face="Times">PCM_M11,PCM_16BIT</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53545px; left: 395px;"><nobr>//pcm module, initialize sample rate = 11160Hz, mono (flag 0)</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 53576px; left: 127px;"><nobr>The function is used in Line 25 to set PCM sound with the sample rate of 11160Hz/sec and at </nobr></div>
<div style="position: absolute; top: 53603px; left: 127px;"><nobr>mono sound.</nobr></div>
<div style="position: absolute; top: 53657px; left: 127px;"><nobr>The actual sound output is carried out in Lines 27 and 41.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53693px; left: 127px;"><nobr>27:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 53693px; left: 187px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short</font>*)wav_data,<font color="#0000ff" face="Times">sizeof</font>(wav_data), <font color="#ff0000" face="Times">0</font>); </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53693px; left: 514px;"><nobr>//Output pcm data</nobr></div>
<div style="position: absolute; top: 53720px; left: 127px;"><nobr>41:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 53720px; left: 276px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data, <font color="#0000ff" face="Times">sizeof</font>(wav_data), <font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 53751px; left: 132px;"><nobr>This is a detailed explanation of GpPcmPlay().</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 53788px; left: 127px;"><nobr>int <font color="#000000" face="Times">GpPcmInit(</font>PCM_SR<font color="#000000" face="Times">sr, </font>PCM_BIT <font color="#000000" face="Times">bit_count);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 53801px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 53815px; left: 156px;"><nobr>&lt;arg 1&gt; PCM_SR sr</nobr></div>
<div style="position: absolute; top: 53828px; left: 216px;"><nobr>Set sample rate</nobr></div>
<div style="position: absolute; top: 53842px; left: 216px;"><nobr>PCM_M11, </nobr></div>
<div style="position: absolute; top: 53842px; left: 305px;"><nobr>Mono  11.025KHz</nobr></div>
<div style="position: absolute; top: 53855px; left: 216px;"><nobr>PCM_S11,</nobr></div>
<div style="position: absolute; top: 53855px; left: 306px;"><nobr>Stereo 11.025KHz</nobr></div>
<div style="position: absolute; top: 53869px; left: 216px;"><nobr>PCM_M22, </nobr></div>
<div style="position: absolute; top: 53869px; left: 306px;"><nobr>Mono  22.050KHz</nobr></div>
<div style="position: absolute; top: 53882px; left: 216px;"><nobr>PCM_S22,</nobr></div>
<div style="position: absolute; top: 53882px; left: 306px;"><nobr>Stereo 22.050KHz</nobr></div>
<div style="position: absolute; top: 53896px; left: 216px;"><nobr>PCM_M44, </nobr></div>
<div style="position: absolute; top: 53896px; left: 306px;"><nobr>Mono  44.100KHz</nobr></div>
<div style="position: absolute; top: 53909px; left: 216px;"><nobr>PCM_S44, </nobr></div>
<div style="position: absolute; top: 53909px; left: 304px;"><nobr>Stereo 44.100KHz</nobr></div>
<div style="position: absolute; top: 53923px; left: 156px;"><nobr>&lt;arg 2&gt; PCM_BIT bit_count</nobr></div>
<div style="position: absolute; top: 53936px; left: 216px;"><nobr>PCM_8BIT,     If 8-bit sound,</nobr></div>
<div style="position: absolute; top: 53950px; left: 216px;"><nobr>PCM_16BIT</nobr></div>
<div style="position: absolute; top: 53950px; left: 306px;"><nobr>If 16-bit sound,</nobr></div>
<div style="position: absolute; top: 53963px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 53981px; left: 127px;"><nobr>Once  you  set  the  output  sound  as  above,  the  actual  PVM  sound  will  be  output  using</nobr></div>
<div style="position: absolute; top: 54008px; left: 127px;"><nobr>GpPcmPlay().</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 54044px; left: 127px;"><nobr>/* Function to output actual PCM sound */</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 54058px; left: 127px;"><nobr>int <font color="#000000" face="Times">GpPcmPlay(</font>unsigned short <font color="#000000" face="Times">* src, </font>int <font color="#000000" face="Times">size, </font>int <font color="#000000" face="Times">repeatflag);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 54071px; left: 127px;"><nobr>/*</nobr></div>
<div style="position: absolute; top: 54085px; left: 156px;"><nobr>&lt;arg 1&gt; unsigned short * src</nobr></div>
<div style="position: absolute; top: 54098px; left: 216px;"><nobr>Address of actual PCM sound data </nobr></div>
<div style="position: absolute; top: 54112px; left: 156px;"><nobr>&lt;arg 2&gt; int size</nobr></div>
<div style="position: absolute; top: 54125px; left: 216px;"><nobr>Length of sound data above</nobr></div>
<div style="position: absolute; top: 54139px; left: 156px;"><nobr>&lt;arg 3&gt; int repeatflag</nobr></div>
<div style="position: absolute; top: 54152px; left: 216px;"><nobr>Value whether to repeat or not</nobr></div>
<div style="position: absolute; top: 54166px; left: 216px;"><nobr>0 is for playing once.</nobr></div>
<div style="position: absolute; top: 54179px; left: 216px;"><nobr>1 is for repeat.</nobr></div>
<div style="position: absolute; top: 54193px; left: 127px;"><nobr>*/</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 54224px; left: 127px;"><nobr>Below is the explanation of GpPcmStop() which stops the PCM sound currently being played.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 54260px; left: 127px;"><nobr>/* Function to stop PCM sound output */</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 54274px; left: 127px;"><nobr>void <font color="#000000" face="Times">GpPcmStop(</font>void<font color="#000000" face="Times">);</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 54287px; left: 127px;"><nobr>/* No input and output values. All sounds are stopped. */</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 54318px; left: 127px;"><nobr>PCM sound is also resource data, thus it must be converted in order to use it on <b><span class="goohl0">GP32</span></b> using the </nobr></div>
</span></font>

<div style="position: absolute; top: 54484px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="44"><b>Page 44</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 54636px; left: 127px;"><nobr><b><span class="goohl0">GP32</span></b> Resource Converting Utility.</nobr></div>
<div style="position: absolute; top: 54663px; left: 127px;"><nobr>The actual program outputs referring to the converted data.</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 14px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 54691px; left: 127px;"><nobr><b>(See <b><span class="goohl0">GP32</span></b> Dev Utility for more details.)</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 55069px; left: 252px;"><nobr><b>&lt;Figure 6-2&gt; Process of Converting PCM Sound Effect</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 54832px; left: 201px;"><nobr><b>Test.wav</b></nobr></div>
<div style="position: absolute; top: 54850px; left: 172px;"><nobr><b>Windows Wave File</b></nobr></div>
<div style="position: absolute; top: 54841px; left: 547px;"><nobr><b>wav_data.c</b></nobr></div>
<div style="position: absolute; top: 54859px; left: 546px;"><nobr><b>C source file</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 54953px; left: 461px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 54953px; left: 491px;"><nobr>extern const unsigned char <font color="#000000" face="Times">wav_data[];</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 54897px; left: 605px;"><nobr><b>Other C file refers </b></nobr></div>
<div style="position: absolute; top: 54915px; left: 608px;"><nobr><b>and uses the data.</b></nobr></div>
<div style="position: absolute; top: 54769px; left: 369px;"><nobr><b><span class="goohl0">GP32</span></b> Resource</nobr></div>
<div style="position: absolute; top: 54796px; left: 361px;"><nobr>Converting Utility</nobr></div>
<div style="position: absolute; top: 54896px; left: 352px;"><nobr><b>Resource Conversion</b></nobr></div>
</span></font>

<div style="position: absolute; top: 55747px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="45"><b>Page 45</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 55992px; left: 158px;"><nobr>1:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 55992px; left: 187px;"><nobr>#include <font color="#808080" face="Times">"gpdef.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56006px; left: 158px;"><nobr>2:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56006px; left: 187px;"><nobr>#include <font color="#808080" face="Times">"gpstdlib.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56019px; left: 158px;"><nobr>3:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56019px; left: 187px;"><nobr>#include <font color="#808080" face="Times">"gpgraphic.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56033px; left: 158px;"><nobr>4:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56033px; left: 187px;"><nobr>#include <font color="#808080" face="Times">"gpmm.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56046px; left: 158px;"><nobr>5:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56046px; left: 187px;"><nobr>#include <font color="#808080" face="Times">"gpfont.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56060px; left: 158px;"><nobr>6:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56060px; left: 187px;"><nobr>#include <font color="#808080" face="Times">"gpmain.h"</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56073px; left: 158px;"><nobr>7:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56073px; left: 187px;"><nobr>GPDRAWSURFACE gpDraw;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56087px; left: 158px;"><nobr>8:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56087px; left: 187px;"><nobr>extern const unsigned char <font color="#000000" face="Times">wav_data1[</font><font color="#ff0000" face="Times">21170</font><font color="#000000" face="Times">]; </font><font color="#008000" face="Times">//wave data 16bit mono 11160Hz</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56100px; left: 158px;"><nobr>9:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56100px; left: 187px;"><nobr>extern const unsigned char <font color="#000000" face="Times">wav_data2[</font><font color="#ff0000" face="Times">10498</font><font color="#000000" face="Times">];</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56114px; left: 158px;"><nobr>10: <font color="#0000ff" face="Times">extern const unsigned char </font><font color="#000000" face="Times">wav_data3[</font><font color="#ff0000" face="Times">3362</font><font color="#000000" face="Times">];</font></nobr></div>
<div style="position: absolute; top: 56127px; left: 158px;"><nobr>11: <font color="#0000ff" face="Times">extern const unsigned char </font><font color="#000000" face="Times">wav_data4[</font><font color="#ff0000" face="Times">2318</font><font color="#000000" face="Times">];</font></nobr></div>
<div style="position: absolute; top: 56141px; left: 158px;"><nobr>12: <font color="#0000ff" face="Times">void </font><font color="#000000" face="Times">GpMain(</font><font color="#0000ff" face="Times">void</font><font color="#000000" face="Times">)</font></nobr></div>
<div style="position: absolute; top: 56154px; left: 158px;"><nobr>13: <font color="#000000" face="Times">{</font></nobr></div>
<div style="position: absolute; top: 56168px; left: 158px;"><nobr>14:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56168px; left: 217px;"><nobr>unsigned char <font color="#000000" face="Times">keydata;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56181px; left: 158px;"><nobr>15:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56181px; left: 217px;"><nobr>unsigned int <font color="#000000" face="Times">n_tick;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56195px; left: 158px;"><nobr>16:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56195px; left: 217px;"><nobr>int <font color="#000000" face="Times">flag_play,i;</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56208px; left: 158px;"><nobr>17:</nobr></div>
<div style="position: absolute; top: 56222px; left: 158px;"><nobr>18:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56222px; left: 217px;"><nobr>GpLcdSurfaceGet(&amp;gpDraw,<font color="#ff0000" face="Times">0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56235px; left: 158px;"><nobr>19:</nobr></div>
<div style="position: absolute; top: 56249px; left: 158px;"><nobr>20:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56249px; left: 217px;"><nobr>GpRectFill(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">0</font>, <font color="#ff0000" face="Times">0</font>, gpDraw.buf_w, gpDraw.buf_h, <font color="#ff0000" face="Times">0xff</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56262px; left: 158px;"><nobr>21:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56262px; left: 217px;"><nobr>GpSurfaceSet(&amp;gpDraw);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56276px; left: 158px;"><nobr>22:</nobr></div>
<div style="position: absolute; top: 56289px; left: 158px;"><nobr>23:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56289px; left: 217px;"><nobr>GpPcmInit(<font color="#008000" face="Times">PCM_M11,PCM_16BIT</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56289px; left: 425px;"><nobr>//pcm module initialize, sample rate = 11160Hz, mono (flag 0)</nobr></div>
<div style="position: absolute; top: 56303px; left: 158px;"><nobr>24:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56303px; left: 217px;"><nobr>flag_play = <font color="#ff0000" face="Times">1</font>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56316px; left: 158px;"><nobr>25:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56316px; left: 217px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short</font>*)wav_data1,<font color="#0000ff" face="Times">sizeof</font>(wav_data1), <font color="#ff0000" face="Times">1</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56316px; left: 545px;"><nobr>//wav_data1  을 반복해서 출력</nobr></div>
<div style="position: absolute; top: 56330px; left: 158px;"><nobr>26:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56330px; left: 217px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data2, <font color="#0000ff" face="Times">sizeof</font>(wav_data2), <font color="#ff0000" face="Times">1</font>); <font color="#008000" face="Times">//wav_data2 </font><font color="#008000" face="Times">를 반복해서 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56343px; left: 158px;"><nobr>27:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56343px; left: 217px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data3, <font color="#0000ff" face="Times">sizeof</font>(wav_data3), <font color="#ff0000" face="Times">1</font>); <font color="#008000" face="Times">//wav_data3 </font><font color="#008000" face="Times">를 반복해서 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56357px; left: 158px;"><nobr>28:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56357px; left: 217px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data4, <font color="#0000ff" face="Times">sizeof</font>(wav_data4), <font color="#ff0000" face="Times">1</font>); <font color="#008000" face="Times">//wav_data4 </font><font color="#008000" face="Times">를 반복해서 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56370px; left: 158px;"><nobr>29:</nobr></div>
<div style="position: absolute; top: 56370px; left: 217px;"><nobr>/* 5sec  동안 출력 */</nobr></div>
<div style="position: absolute; top: 56384px; left: 217px;"><nobr>/*Output for 5sec*/ </nobr></div>
<div style="position: absolute; top: 56397px; left: 158px;"><nobr>30:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56397px; left: 217px;"><nobr>n_tick = GetTickCount();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56411px; left: 158px;"><nobr>31:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56411px; left: 217px;"><nobr>while <font color="#000000" face="Times">( (GetTickCount() - n_tick) &lt; </font><font color="#ff0000" face="Times">5000</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56424px; left: 158px;"><nobr>32:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56424px; left: 246px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56438px; left: 158px;"><nobr>33:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56438px; left: 217px;"><nobr>GpPcmStop();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56451px; left: 158px;"><nobr>34:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56451px; left: 217px;"><nobr>GpTextOut(NULL, &amp;gpDraw, <font color="#ff0000" face="Times">10</font>, <font color="#ff0000" face="Times">60</font>, </nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56465px; left: 158px;"><nobr>35:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56465px; left: 246px;"><nobr>(<font color="#0000ff" face="Times">unsigned char</font>*)<font color="#808080" face="Times">"F1 key : wav 1\nF2 key : wav 2\nF3 key : wav 3\nEnter key : wav 4", </font><font color="#ff0000" face="Times">0x0</font>);</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56478px; left: 158px;"><nobr>36:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56478px; left: 217px;"><nobr>while<font color="#000000" face="Times">(</font><font color="#ff0000" face="Times">1</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56492px; left: 158px;"><nobr>37:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56492px; left: 217px;"><nobr>{</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56505px; left: 158px;"><nobr>38:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56505px; left: 246px;"><nobr>keydata = GpKeyGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56519px; left: 158px;"><nobr>39:</nobr></div>
<div style="position: absolute; top: 56519px; left: 246px;"><nobr>//function key 가 변하지 않으면 입력받은 키를 무시(GPC_VK_NONE)</nobr></div>
<div style="position: absolute; top: 56532px; left: 246px;"><nobr>If function key is not changed, ignore the input key data</nobr></div>
<div style="position: absolute; top: 56546px; left: 158px;"><nobr>40:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56546px; left: 246px;"><nobr>if <font color="#000000" face="Times">((GpKeyChanged() &amp; </font><font color="#ff0000" face="Times">0xff </font><font color="#000000" face="Times">) == </font><font color="#ff0000" face="Times">0</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56559px; left: 158px;"><nobr>41:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56559px; left: 277px;"><nobr>keydata = GPC_VK_NONE;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56573px; left: 158px;"><nobr>42:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56573px; left: 246px;"><nobr>if <font color="#000000" face="Times">(keydata == GPC_VK_F1)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56586px; left: 158px;"><nobr>43:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56586px; left: 277px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data1,<font color="#0000ff" face="Times">sizeof</font>(wav_data1), <font color="#ff0000" face="Times">0</font>); <font color="#008000" face="Times">//wav_data1  </font><font color="#008000" face="Times">을 </font><font color="#008000" face="Times">1 </font><font color="#008000" face="Times">회 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56600px; left: 277px;"><nobr>Output wav_data1 once</nobr></div>
<div style="position: absolute; top: 56613px; left: 158px;"><nobr>44:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56613px; left: 246px;"><nobr>else if <font color="#000000" face="Times">(keydata == GPC_VK_F2)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56627px; left: 158px;"><nobr>45:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56627px; left: 277px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data2, <font color="#0000ff" face="Times">sizeof</font>(wav_data2), <font color="#ff0000" face="Times">0</font>); <font color="#008000" face="Times">//wav_data2 </font><font color="#008000" face="Times">를 </font><font color="#008000" face="Times">1 </font><font color="#008000" face="Times">회 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56640px; left: 277px;"><nobr>Output wav_data2 once</nobr></div>
<div style="position: absolute; top: 56654px; left: 158px;"><nobr>46:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56654px; left: 246px;"><nobr>else if <font color="#000000" face="Times">(keydata == GP C_VK_F3)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56667px; left: 158px;"><nobr>47:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56667px; left: 277px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data3, <font color="#0000ff" face="Times">sizeof</font>(wav_data3), <font color="#ff0000" face="Times">0</font>); <font color="#008000" face="Times">//wav_data3 </font><font color="#008000" face="Times">를 </font><font color="#008000" face="Times">1 </font><font color="#008000" face="Times">회 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56681px; left: 277px;"><nobr>Output wav_data3 once</nobr></div>
<div style="position: absolute; top: 56694px; left: 158px;"><nobr>48:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56694px; left: 246px;"><nobr>else if <font color="#000000" face="Times">(keydata == GPC_VK_ENTER)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56708px; left: 158px;"><nobr>49:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56708px; left: 277px;"><nobr>GpPcmPlay((<font color="#0000ff" face="Times">unsigned short </font>*)wav_data4, <font color="#0000ff" face="Times">sizeof</font>(wav_data4), <font color="#ff0000" face="Times">0</font>); <font color="#008000" face="Times">//wav_data4 </font><font color="#008000" face="Times">를 </font><font color="#008000" face="Times">1 </font><font color="#008000" face="Times">회 출력</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56721px; left: 277px;"><nobr>Output wav_data4 once.</nobr></div>
<div style="position: absolute; top: 56748px; left: 158px;"><nobr>50:</nobr></div>
<div style="position: absolute; top: 56748px; left: 246px;"><nobr>/* 400msec  동안 지연 */</nobr></div>
<div style="position: absolute; top: 56762px; left: 246px;"><nobr>/*400msec of delay*/</nobr></div>
<div style="position: absolute; top: 56775px; left: 158px;"><nobr>51:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56775px; left: 246px;"><nobr>n_tick = GpTickCountGet();</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56789px; left: 158px;"><nobr>52:</nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 56789px; left: 246px;"><nobr>while <font color="#000000" face="Times">( (GpTickCountGet() - n_tick) &lt; </font><font color="#ff0000" face="Times">400</font><font color="#000000" face="Times">)</font></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56802px; left: 158px;"><nobr>53:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56802px; left: 277px;"><nobr>;</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56816px; left: 158px;"><nobr>54:</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 10px; font-family: Times;">
<div style="position: absolute; top: 56816px; left: 217px;"><nobr>}</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 10px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 56829px; left: 158px;"><nobr>55: <font color="#000000" face="Times">}</font></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 17px; font-family: Times;">
<div style="position: absolute; top: 55898px; left: 127px;"><nobr><b>7.3 PCM Sound Mixing </b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 55953px; left: 127px;"><nobr>This is an example of mixing four PCM sounds.</nobr></div>
</span></font>

<div style="position: absolute; top: 57010px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="46"><b>Page 46</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 14px; font-family: Times;">
<div style="position: absolute; top: 57163px; left: 268px;"><nobr><b>&lt;List 6-3&gt; Example Source of PCM Sound Mixing</b></nobr></div>
<div style="position: absolute; top: 57216px; left: 127px;"><nobr>Execute  the  program  and  4  PCM  sounds  will  be  mixed  and  output  for  5  seconds.  After  5</nobr></div>
<div style="position: absolute; top: 57243px; left: 127px;"><nobr>seconds, a message about each key input and OCM sound will appear on the screen and all the </nobr></div>
<div style="position: absolute; top: 57270px; left: 127px;"><nobr>sounds will be stopped.</nobr></div>
<div style="position: absolute; top: 57297px; left: 127px;"><nobr>Sound output corresponds to each key input.</nobr></div>
<div style="position: absolute; top: 57324px; left: 127px;"><nobr>Up to 4 PCM sounds can be mixed within the <b><span class="goohl0">GP32</span></b> system. Thus, it would be the same for the </nobr></div>
<div style="position: absolute; top: 57351px; left: 127px;"><nobr>programmer whether 1 or more sounds are output.</nobr></div>
</span></font>

<div style="position: absolute; top: 58273px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="47"><b>Page 47</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 58429px; left: 127px;"><nobr><b>8. Appendix</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 58466px; left: 127px;"><nobr><b>8.1 Getting Started with GPSDK bv20</b></nobr></div>
<div style="position: absolute; top: 58519px; left: 127px;"><nobr><b>STEP1. Check the directory structure. </b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 58548px; left: 187px;"><nobr>gpsdk_bv10\gpinclude </nobr></div>
<div style="position: absolute; top: 58548px; left: 355px;"><nobr>This directory contains the GPSDK header files.</nobr></div>
<div style="position: absolute; top: 58575px; left: 187px;"><nobr>gpsdk_bv10\gplib</nobr></div>
<div style="position: absolute; top: 58575px; left: 325px;"><nobr>This directory contains the GPSDK library files.</nobr></div>
<div style="position: absolute; top: 58602px; left: 187px;"><nobr>gpsdk_bv10\target </nobr></div>
<div style="position: absolute; top: 58602px; left: 322px;"><nobr>This directory contains the GPSDK Start-Up codes and the portable</nobr></div>
<div style="position: absolute; top: 58629px; left: 306px;"><nobr>option files.</nobr></div>
<div style="position: absolute; top: 58656px; left: 187px;"><nobr>gpsdk_bv10\misc</nobr></div>
<div style="position: absolute; top: 58656px; left: 325px;"><nobr>This directory contains many other implementation source codes.</nobr></div>
<div style="position: absolute; top: 58683px; left: 187px;"><nobr>gpsdk_bv10\util </nobr></div>
<div style="position: absolute; top: 58683px; left: 329px;"><nobr>This directory contains the <b><span class="goohl0">GP32</span></b> Development Utility BV1.0 version </nobr></div>
<div style="position: absolute; top: 58710px; left: 307px;"><nobr>executable files, the standard palette files, pllset.exe files and etc.</nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 58762px; left: 127px;"><nobr><b>STEP 2. Check target\inival_port.h (Here you see the actual source code.)</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 58813px; left: 127px;"><nobr><b>/*******************************************************************/</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 58830px; left: 127px;"><nobr><b>//at loading time, thread stack define -- implemented in gpstart.c</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 58848px; left: 127px;"><nobr><b>#define GPMAIN_STACK_SIZE</b></nobr></div>
<div style="position: absolute; top: 58848px; left: 395px;"><nobr><b>(100&lt;&lt;10)</b></nobr></div>
<div style="position: absolute; top: 58848px; left: 514px;"><nobr><b>//100KB -- access code = 0</b></nobr></div>
<div style="position: absolute; top: 58865px; left: 127px;"><nobr><b>#define NET_STACK_SIZE</b></nobr></div>
<div style="position: absolute; top: 58865px; left: 395px;"><nobr><b>(64&lt;&lt;10)</b></nobr></div>
<div style="position: absolute; top: 58865px; left: 485px;"><nobr><b>//64KB -- access code = 1</b></nobr></div>
<div style="position: absolute; top: 58882px; left: 127px;"><nobr><b>#define USER_STACK_SIZE</b></nobr></div>
<div style="position: absolute; top: 58882px; left: 395px;"><nobr><b>(4 &lt;&lt; 10)</b></nobr></div>
<div style="position: absolute; top: 58882px; left: 485px;"><nobr><b>//4KB </b></nobr></div>
<div style="position: absolute; top: 58882px; left: 545px;"><nobr><b>-- access code = 2</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 58900px; left: 127px;"><nobr><b>/*******************************************************************/</b></nobr></div>
<div style="position: absolute; top: 58933px; left: 127px;"><nobr><b>/*************************************************************</b></nobr></div>
<div style="position: absolute; top: 58951px; left: 127px;"><nobr><b>*  Heap  Management  Library  Attach </b></nobr></div>
<div style="position: absolute; top: 58951px; left: 581px;"><nobr><b>*</b></nobr></div>
<div style="position: absolute; top: 58968px; left: 127px;"><nobr><b>*************************************************************/</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 58985px; left: 127px;"><nobr><b>#define USE_GP_MEM</b></nobr></div>
<div style="position: absolute; top: 58985px; left: 335px;"><nobr><b>1</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 58985px; left: 395px;"><nobr><b>// If you don't use gpmem.alf, change USE_GP_MEM to 0</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 59020px; left: 127px;"><nobr><b>/*************************************************************</b></nobr></div>
<div style="position: absolute; top: 59037px; left: 127px;"><nobr><b>* Button Checking Loop count</b></nobr></div>
<div style="position: absolute; top: 59037px; left: 552px;"><nobr><b>*</b></nobr></div>
<div style="position: absolute; top: 59054px; left: 127px;"><nobr><b>*************************************************************/</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59072px; left: 127px;"><nobr><b>#define KEYPOLLING_NUM 20</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59072px; left: 395px;"><nobr><b>// You can change polling number,</b></nobr></div>
<div style="position: absolute; top: 59089px; left: 404px;"><nobr><b>but the valus must be as small as possible.</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 59124px; left: 127px;"><nobr><b>/*************************************************************</b></nobr></div>
<div style="position: absolute; top: 59140px; left: 127px;"><nobr><b>* Processor Clock speed</b></nobr></div>
<div style="position: absolute; top: 59140px; left: 582px;"><nobr><b>*</b></nobr></div>
<div style="position: absolute; top: 59157px; left: 127px;"><nobr><b>*************************************************************/</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59175px; left: 127px;"><nobr><b>#define DEFAULT_MCLK 67800000</b></nobr></div>
<div style="position: absolute; top: 59192px; left: 127px;"><nobr><b>#define CHANGE_MCLK</b></nobr></div>
<div style="position: absolute; top: 59192px; left: 335px;"><nobr><b>0</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59192px; left: 395px;"><nobr><b>// If the CHANGE_MCLK is zero, </b></nobr></div>
<div style="position: absolute; top: 59209px; left: 414px;"><nobr><b>the clock speed of process is 40MHz</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59227px; left: 127px;"><nobr><b>#if CHANGE_MCLK</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59227px; left: 395px;"><nobr><b>// If the CHANGE_MCLK is non-zero, select CLOCKSPEED</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59244px; left: 156px;"><nobr><b>#define YOUR_SELECT_CLK</b></nobr></div>
<div style="position: absolute; top: 59244px; left: 395px;"><nobr><b>0</b></nobr></div>
<div style="position: absolute; top: 59261px; left: 156px;"><nobr><b>#if (YOUR_SELECT_CLK == 0)</b></nobr></div>
<div style="position: absolute; top: 59279px; left: 187px;"><nobr><b>#define CLK_SPEED</b></nobr></div>
<div style="position: absolute; top: 59296px; left: 187px;"><nobr><b>#define DIV_FACTOR</b></nobr></div>
<div style="position: absolute; top: 59313px; left: 187px;"><nobr><b>#define CLK_MODE</b></nobr></div>
<div style="position: absolute; top: 59331px; left: 156px;"><nobr><b>#elif (YOUR_SELECT_CLK == 1 )</b></nobr></div>
<div style="position: absolute; top: 59347px; left: 156px;"><nobr><b>#else</b></nobr></div>
<div style="position: absolute; top: 59364px; left: 156px;"><nobr><b>#endif</b></nobr></div>
<div style="position: absolute; top: 59382px; left: 127px;"><nobr><b>#endif /*CHANGE_MCLK*/</b></nobr></div>
</span></font>

<div style="position: absolute; top: 59536px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="48"><b>Page 48</b></a></font></td></tr></tbody></table></div><font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59704px; left: 127px;"><nobr><b>#endif <font color="#008000" face="Times">/*__initval_port_h__*/</font></b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 59724px; left: 127px;"><nobr><b>STEP 3. Check target\gpfont_port.h (Here you see the actual source code.)</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 59754px; left: 156px;"><nobr><b>※ You must replace the content of a text file exported from the <b><span class="goohl0">GP32</span></b> font utility </b></nobr></div>
<div style="position: absolute; top: 59780px; left: 156px;"><nobr><b>(resource  data  array)  with  the content  of  the  gpfontres.dat  in  order  to  use  other </b></nobr></div>
<div style="position: absolute; top: 59807px; left: 156px;"><nobr><b>resource instead of the GPSDK font.</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59848px; left: 127px;"><nobr><b>#ifndef __GPFONT_PORT_H__</b></nobr></div>
<div style="position: absolute; top: 59865px; left: 127px;"><nobr><b>#define __GPFONT_PORT_H__</b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 59881px; left: 127px;"><nobr><b>/*  Input  information  about  the  system  font  here.  If  you  want  to  replace  the  font  resource</b></nobr></div>
<div style="position: absolute; top: 59899px; left: 158px;"><nobr><b>(gpfontres.dat), this is the right place you can revise the relevant information.</b></nobr></div>
<div style="position: absolute; top: 59916px; left: 127px;"><nobr><b>*********************************************************************************************/</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59933px; left: 127px;"><nobr><b>#define KORFONT_W</b></nobr></div>
<div style="position: absolute; top: 59933px; left: 306px;"><nobr><b>12 <font color="#008000" face="Times">/* pixel </font></b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59933px; left: 406px;"><nobr><b>Korean font width </b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59951px; left: 127px;"><nobr><b>#define KORFONT_H</b></nobr></div>
<div style="position: absolute; top: 59951px; left: 306px;"><nobr><b>12 <font color="#008000" face="Times">/* pixel </font></b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59951px; left: 406px;"><nobr><b>Korean font height</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59968px; left: 127px;"><nobr><b>#define ENGFONT_W</b></nobr></div>
<div style="position: absolute; top: 59968px; left: 306px;"><nobr><b>8</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59968px; left: 335px;"><nobr><b>/* pixel </b></nobr></div>
<div style="position: absolute; top: 59968px; left: 406px;"><nobr><b>English font width</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 59985px; left: 127px;"><nobr><b>#define ENGFONT_H </b></nobr></div>
<div style="position: absolute; top: 59985px; left: 335px;"><nobr><b>16 <font color="#008000" face="Times">/* pixel </font></b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 59985px; left: 436px;"><nobr><b>English font height</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 60003px; left: 127px;"><nobr><b>#define FONT_CHARGAP    4</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 60003px; left: 366px;"><nobr><b>/* percentage</b></nobr></div>
<div style="position: absolute; top: 60003px; left: 474px;"><nobr><b>Character pitch (See font library)</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 60020px; left: 127px;"><nobr><b>#define FONT_LINEGAP</b></nobr></div>
<div style="position: absolute; top: 60020px; left: 335px;"><nobr><b>4</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 60020px; left: 366px;"><nobr><b>/* percentage </b></nobr></div>
<div style="position: absolute; top: 60020px; left: 474px;"><nobr><b>Line Spacing (See font library)</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 60037px; left: 127px;"><nobr><b>#endif</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 60112px; left: 127px;"><nobr><b>STEP 4. Check target\gpstart.c</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 60164px; left: 188px;"><nobr><b>#include "gpdef.h"</b></nobr></div>
<div style="position: absolute; top: 60181px; left: 188px;"><nobr><b>#include "gpstdlib.h"</b></nobr></div>
<div style="position: absolute; top: 60198px; left: 188px;"><nobr><b>#include "gpmain.h"</b></nobr></div>
<div style="position: absolute; top: 60216px; left: 188px;"><nobr><b>#include "gpfont.h"</b></nobr></div>
<div style="position: absolute; top: 60232px; left: 188px;"><nobr><b>#include "gpfont_port.h"</b></nobr></div>
<div style="position: absolute; top: 60249px; left: 188px;"><nobr><b>#include "gpfontres.dat"</b></nobr></div>
<div style="position: absolute; top: 60284px; left: 188px;"><nobr><b>#include "initval_port.h"</b></nobr></div>
<div style="position: absolute; top: 60319px; left: 188px;"><nobr><b>#ifdef USE_GP_MEM</b></nobr></div>
<div style="position: absolute; top: 60336px; left: 188px;"><nobr><b>#include "gpmem.h"</b></nobr></div>
<div style="position: absolute; top: 60353px; left: 188px;"><nobr><b>#endif</b></nobr></div>
<div style="position: absolute; top: 60388px; left: 188px;"><nobr><b>unsigned int HEAPSTART;</b></nobr></div>
<div style="position: absolute; top: 60405px; left: 188px;"><nobr><b>unsigned int HEAPEND;</b></nobr></div>
<div style="position: absolute; top: 60439px; left: 188px;"><nobr><b>void InitializeFont(void);</b></nobr></div>
<div style="position: absolute; top: 60456px; left: 188px;"><nobr><b>extern void GpKeyPollingTimeSet(int loop_cnt);</b></nobr></div>
<div style="position: absolute; top: 60474px; left: 188px;"><nobr><b>void Main(int arg_len, char * arg_v)</b></nobr></div>
<div style="position: absolute; top: 60491px; left: 188px;"><nobr><b>{</b></nobr></div>
<div style="position: absolute; top: 60526px; left: 217px;"><nobr><b>GM_HEAP_DEF gm_heap_def;</b></nobr></div>
<div style="position: absolute; top: 60560px; left: 188px;"><nobr><b>#if CHANGE_MCLK <font color="#008000" face="Times">//If CHANGED_MCLK is 1,</font></b></nobr></div>
<div style="position: absolute; top: 60578px; left: 217px;"><nobr><b>GpClockSpeedChange(CLK_SPEED, DIV_FACTOR, CLK_MODE);</b></nobr></div>
<div style="position: absolute; top: 60595px; left: 188px;"><nobr><b>#endif</b></nobr></div>
<div style="position: absolute; top: 60628px; left: 217px;"><nobr><b>_gp_sdk_init();</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 60646px; left: 217px;"><nobr><b>//keyboard polling count setting</b></nobr></div>
</span></font>

<div style="position: absolute; top: 60799px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="49"><b>Page 49</b></a></font></td></tr></tbody></table></div><font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 60949px; left: 217px;"><nobr><b>GpKeyPollingTimeSet(KEYPOLLING_NUM);</b></nobr></div>
<div style="position: absolute; top: 60984px; left: 188px;"><nobr><b>#ifdef USE_GP_MEM</b></nobr></div>
<div style="position: absolute; top: 61000px; left: 217px;"><nobr><b>gm_heap_def.heapstart = (void*)(HEAPSTART);</b></nobr></div>
<div style="position: absolute; top: 61018px; left: 217px;"><nobr><b>gm_heap_def.heapend = (void *)(HEAPEND &amp; 3); <font color="#008000" face="Times">//&lt;== BOOTROM SPECTIFIC</font></b></nobr></div>
<div style="position: absolute; top: 61035px; left: 217px;"><nobr><b>gm_heap_init(&amp;gm_heap_def);</b></nobr></div>
<div style="position: absolute; top: 61070px; left: 217px;"><nobr><b>gp_mem_func.malloc = gm_malloc;</b></nobr></div>
<div style="position: absolute; top: 61087px; left: 217px;"><nobr><b>gp_mem_func.zimalloc = gm_zi_malloc;</b></nobr></div>
<div style="position: absolute; top: 61104px; left: 217px;"><nobr><b>gp_mem_func.calloc = gm_calloc;</b></nobr></div>
<div style="position: absolute; top: 61122px; left: 217px;"><nobr><b>gp_mem_func.free = gm_free;</b></nobr></div>
<div style="position: absolute; top: 61139px; left: 217px;"><nobr><b>gp_mem_func.availablemem = gm_availablesize;</b></nobr></div>
<div style="position: absolute; top: 61156px; left: 217px;"><nobr><b>gp_mem_func.malloc_ex = gm_malloc_ex;</b></nobr></div>
<div style="position: absolute; top: 61173px; left: 217px;"><nobr><b>gp_mem_func.free_ex = gm_free_ex;</b></nobr></div>
<div style="position: absolute; top: 61191px; left: 217px;"><nobr><b>gp_mem_func.make_mem_partition = gm_make_mem_part;</b></nobr></div>
<div style="position: absolute; top: 61224px; left: 217px;"><nobr><b>gp_str_func.memset = gm_memset;</b></nobr></div>
<div style="position: absolute; top: 61242px; left: 217px;"><nobr><b>gp_str_func.memcpy = gm_memcpy;</b></nobr></div>
<div style="position: absolute; top: 61259px; left: 217px;"><nobr><b>gp_str_func.strcpy = gm_strcpy;</b></nobr></div>
<div style="position: absolute; top: 61276px; left: 217px;"><nobr><b>gp_str_func.strncpy = gm_strncpy;</b></nobr></div>
<div style="position: absolute; top: 61294px; left: 217px;"><nobr><b>gp_str_func.strcat = gm_strcat;</b></nobr></div>
<div style="position: absolute; top: 61311px; left: 217px;"><nobr><b>gp_str_func.strncat = gm_strncat;</b></nobr></div>
<div style="position: absolute; top: 61328px; left: 217px;"><nobr><b>gp_str_func.lstrlen = gm_lstrlen;</b></nobr></div>
<div style="position: absolute; top: 61346px; left: 217px;"><nobr><b>gp_str_func.sprintf = gm_sprintf;</b></nobr></div>
<div style="position: absolute; top: 61363px; left: 217px;"><nobr><b>gp_str_func.uppercase = gm_uppercase;</b></nobr></div>
<div style="position: absolute; top: 61380px; left: 217px;"><nobr><b>gp_str_func.lowercase = gm_lowercase;</b></nobr></div>
<div style="position: absolute; top: 61398px; left: 217px;"><nobr><b>gp_str_func.compare = gm_compare;</b></nobr></div>
<div style="position: absolute; top: 61414px; left: 217px;"><nobr><b>gp_str_func.trim_right = gm_trim_right;</b></nobr></div>
<div style="position: absolute; top: 61431px; left: 188px;"><nobr><b>#endif /*USE_GP_MEM*/</b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 61466px; left: 217px;"><nobr><b>//Font initialize</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 61483px; left: 217px;"><nobr><b>InitializeFont(); </b></nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 61483px; left: 362px;"><nobr><b>//font initialization</b></nobr></div>
</span></font>
<font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 61518px; left: 217px;"><nobr><b>GpKernelInitialize(); </b></nobr></div>
<div style="position: absolute; top: 61535px; left: 217px;"><nobr><b>GpKernelStart();</b></nobr></div>
<div style="position: absolute; top: 61553px; left: 217px;"><nobr><b>GpAppExit();</b></nobr></div>
<div style="position: absolute; top: 61570px; left: 217px;"><nobr><b>while(1);</b></nobr></div>
<div style="position: absolute; top: 61587px; left: 188px;"><nobr><b>}</b></nobr></div>
<div style="position: absolute; top: 61621px; left: 188px;"><nobr><b>void InitializeFont(void)</b></nobr></div>
<div style="position: absolute; top: 61638px; left: 188px;"><nobr><b>{</b></nobr></div>
<div style="position: absolute; top: 61655px; left: 217px;"><nobr><b>BGFONTINFO mInfo;</b></nobr></div>
<div style="position: absolute; top: 61673px; left: 217px;"><nobr><b>mInfo.kor_w = KORFONT_W;</b></nobr></div>
<div style="position: absolute; top: 61690px; left: 217px;"><nobr><b>mInfo.kor_h = KORFONT_H;</b></nobr></div>
<div style="position: absolute; top: 61707px; left: 217px;"><nobr><b>mInfo.eng_w = ENGFONT_W;</b></nobr></div>
<div style="position: absolute; top: 61725px; left: 217px;"><nobr><b>mInfo.eng_h = ENGFONT_H;</b></nobr></div>
<div style="position: absolute; top: 61742px; left: 217px;"><nobr><b>mInfo.chargap = FONT_CHARGAP;</b></nobr></div>
<div style="position: absolute; top: 61759px; left: 217px;"><nobr><b>mInfo.linegap = FONT_LINEGAP;</b></nobr></div>
<div style="position: absolute; top: 61777px; left: 217px;"><nobr><b>GpFontInit(&amp;mInfo);</b></nobr></div>
<div style="position: absolute; top: 61794px; left: 217px;"><nobr><b>GpFontResSet((unsigned char*)fontresKor, (unsigned char*)fontresEng);</b></nobr></div>
<div style="position: absolute; top: 61810px; left: 188px;"><nobr><b>}</b></nobr></div>
<div style="position: absolute; top: 61845px; left: 188px;"><nobr><b>int GpPredefinedStackGet(H_THREAD th)</b></nobr></div>
<div style="position: absolute; top: 61862px; left: 188px;"><nobr><b>{</b></nobr></div>
<div style="position: absolute; top: 61880px; left: 217px;"><nobr><b>switch ( th )</b></nobr></div>
<div style="position: absolute; top: 61897px; left: 217px;"><nobr><b>{</b></nobr></div>
<div style="position: absolute; top: 61914px; left: 217px;"><nobr><b>case H_THREAD_GPMAIN:</b></nobr></div>
</span></font>

<div style="position: absolute; top: 62062px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="50"><b>Page 50</b></a></font></td></tr></tbody></table></div><font color="#0000ff" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 0, 255);">
<div style="position: absolute; top: 62212px; left: 248px;"><nobr><b>return GPMAIN_STACK_SIZE;</b></nobr></div>
<div style="position: absolute; top: 62230px; left: 217px;"><nobr><b>case H_THREAD_NET:</b></nobr></div>
<div style="position: absolute; top: 62247px; left: 248px;"><nobr><b>return NET_STACK_SIZE;</b></nobr></div>
<div style="position: absolute; top: 62263px; left: 217px;"><nobr><b>case H_THREAD_TMR0:</b></nobr></div>
<div style="position: absolute; top: 62281px; left: 217px;"><nobr><b>case H_THREAD_TMR1:</b></nobr></div>
<div style="position: absolute; top: 62298px; left: 217px;"><nobr><b>case H_THREAD_TMR2:</b></nobr></div>
<div style="position: absolute; top: 62315px; left: 217px;"><nobr><b>case H_THREAD_TMR3:</b></nobr></div>
<div style="position: absolute; top: 62333px; left: 248px;"><nobr><b>return USER_STACK_SIZE;</b></nobr></div>
<div style="position: absolute; top: 62350px; left: 217px;"><nobr><b>default:</b></nobr></div>
<div style="position: absolute; top: 62367px; left: 248px;"><nobr><b>return 0;</b></nobr></div>
<div style="position: absolute; top: 62385px; left: 217px;"><nobr><b>}</b></nobr></div>
<div style="position: absolute; top: 62402px; left: 188px;"><nobr><b>}</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 16px; font-family: Times;">
<div style="position: absolute; top: 62451px; left: 127px;"><nobr><b>STEP 5. Create a project in the ARM Project Manager</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 62506px; left: 206px;"><nobr>You shall create a directory where you will place a project and copy the \target folder to the </nobr></div>
<div style="position: absolute; top: 62533px; left: 187px;"><nobr>directory.</nobr></div>
<div style="position: absolute; top: 62560px; left: 206px;"><nobr>The next steps are as follows. You only have to build after following steps.</nobr></div>
<div style="position: absolute; top: 62604px; left: 189px;"><nobr>Step 1</nobr></div>
<div style="position: absolute; top: 62803px; left: 189px;"><nobr>Step 2</nobr></div>
</span></font>

<div style="position: absolute; top: 63325px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="51"><b>Page 51</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 63823px; left: 230px;"><nobr>Step 3</nobr></div>
<div style="position: absolute; top: 63850px; left: 248px;"><nobr>(Menu Project </nobr></div>
<div style="position: absolute; top: 63850px; left: 358px;"><nobr>Tool Configuration for “Debug”</nobr></div>
<div style="position: absolute; top: 63850px; left: 572px;"><nobr>armlink)</nobr></div>
<div style="position: absolute; top: 63877px; left: 260px;"><nobr>1. In the above figure, go to Project and select the Add Files to </nobr></div>
<div style="position: absolute; top: 63904px; left: 287px;"><nobr>Project menu.</nobr></div>
<div style="position: absolute; top: 63931px; left: 260px;"><nobr>2. Add the \target\init.s, \target\gpstart.c files.</nobr></div>
<div style="position: absolute; top: 63958px; left: 260px;"><nobr>3. Add the \gplib\ *.alf file (Refer to the Note 1).</nobr></div>
<div style="position: absolute; top: 63985px; left: 260px;"><nobr>4. Configure the Compile and Link options as shown in the </nobr></div>
<div style="position: absolute; top: 64012px; left: 287px;"><nobr>picture in Step 4.</nobr></div>
</span></font>

<div style="position: absolute; top: 64588px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="52"><b>Page 52</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 64762px; left: 236px;"><nobr>Step 4 (armcc options)</nobr></div>
<div style="position: absolute; top: 64789px; left: 267px;"><nobr>1. Select the Includes Files tab.</nobr></div>
<div style="position: absolute; top: 64816px; left: 267px;"><nobr>2. Click on the  … button in  the update directory </nobr></div>
<div style="position: absolute; top: 64843px; left: 294px;"><nobr>list window.</nobr></div>
<div style="position: absolute; top: 64870px; left: 267px;"><nobr>3. Select the \gpinclude folder and press Add.</nobr></div>
<div style="position: absolute; top: 64897px; left: 267px;"><nobr>4. Enter the “.\target” in the update direct list and </nobr></div>
<div style="position: absolute; top: 64924px; left: 294px;"><nobr>press Add.</nobr></div>
<div style="position: absolute; top: 64951px; left: 267px;"><nobr>5. Enter the  “.” in the update direct list and press </nobr></div>
<div style="position: absolute; top: 64978px; left: 294px;"><nobr>Add.</nobr></div>
<div style="position: absolute; top: 65005px; left: 267px;"><nobr>6. Press the Enter key.</nobr></div>
</span></font>

<div style="position: absolute; top: 65851px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="53"><b>Page 53</b></a></font></td></tr></tbody></table></div><font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 66167px; left: 187px;"><nobr><b>Note1&gt; The alf files are listed as below.</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 66194px; left: 217px;"><nobr>Gpstdlib.alf </nobr></div>
<div style="position: absolute; top: 66194px; left: 354px;"><nobr>Required.</nobr></div>
<div style="position: absolute; top: 66221px; left: 217px;"><nobr>Gpgraphic.alf </nobr></div>
<div style="position: absolute; top: 66221px; left: 354px;"><nobr>Required</nobr></div>
<div style="position: absolute; top: 66248px; left: 216px;"><nobr>Gpgraphic8.alf</nobr></div>
<div style="position: absolute; top: 66248px; left: 351px;"><nobr>Optional. This file is required when the API relevant to 8bit graphic </nobr></div>
<div style="position: absolute; top: 66275px; left: 335px;"><nobr>is used in the application program</nobr></div>
<div style="position: absolute; top: 66302px; left: 216px;"><nobr>Gpgraphic16.alf</nobr></div>
<div style="position: absolute; top: 66302px; left: 359px;"><nobr>Optional.  This  file  is  required  when  the  API  relevant  to  16bit </nobr></div>
<div style="position: absolute; top: 66329px; left: 336px;"><nobr>graphic is used in the application program</nobr></div>
<div style="position: absolute; top: 66356px; left: 217px;"><nobr>Gpfont.alf </nobr></div>
<div style="position: absolute; top: 66356px; left: 354px;"><nobr>Required</nobr></div>
<div style="position: absolute; top: 66383px; left: 217px;"><nobr>Gpfont8.alf</nobr></div>
<div style="position: absolute; top: 66383px; left: 353px;"><nobr>Optional. This file is required when the API relevant to 8bit graphic </nobr></div>
<div style="position: absolute; top: 66410px; left: 338px;"><nobr>is used in the application program</nobr></div>
<div style="position: absolute; top: 66437px; left: 216px;"><nobr>Gpfont16.alf</nobr></div>
<div style="position: absolute; top: 66437px; left: 352px;"><nobr>Optional.  This  file  is  required  when  the  API  relevant  to  16bit </nobr></div>
<div style="position: absolute; top: 66464px; left: 336px;"><nobr>graphic is used in the application program</nobr></div>
<div style="position: absolute; top: 66491px; left: 216px;"><nobr>Gpsound.alf </nobr></div>
<div style="position: absolute; top: 66491px; left: 355px;"><nobr>Optional. This file is required when the API relevant to sound is </nobr></div>
<div style="position: absolute; top: 66518px; left: 352px;"><nobr>used in the application program.</nobr></div>
<div style="position: absolute; top: 66545px; left: 217px;"><nobr>Gpstdio.alf </nobr></div>
<div style="position: absolute; top: 66545px; left: 355px;"><nobr>Optional. This file is required when the file I/O API is used in the</nobr></div>
<div style="position: absolute; top: 66572px; left: 336px;"><nobr>application program.</nobr></div>
<div style="position: absolute; top: 66599px; left: 217px;"><nobr>Gpg_ex01.alf </nobr></div>
<div style="position: absolute; top: 66599px; left: 354px;"><nobr>Optional. This file is required when the API relevant to graphic </nobr></div>
<div style="position: absolute; top: 66626px; left: 335px;"><nobr>expansion is used.</nobr></div>
<div style="position: absolute; top: 66653px; left: 217px;"><nobr>Gpmem.alf </nobr></div>
<div style="position: absolute; top: 66653px; left: 356px;"><nobr>Optional. This file is required when the API relevant to Heap and </nobr></div>
<div style="position: absolute; top: 66680px; left: 217px;"><nobr>String available for use in the GPSDK BV20 is used in the application program.</nobr></div>
<div style="position: absolute; top: 66707px; left: 217px;"><nobr>Gpnet.alf </nobr></div>
<div style="position: absolute; top: 66707px; left: 355px;"><nobr>Optional. This file is required when the TCP/IP socket API is used </nobr></div>
<div style="position: absolute; top: 66734px; left: 335px;"><nobr>in the application program.</nobr></div>
<div style="position: absolute; top: 66761px; left: 216px;"><nobr>init.o </nobr></div>
<div style="position: absolute; top: 66761px; left: 349px;"><nobr>Required. (This file is located in the gplib folder.)</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 66842px; left: 187px;"><nobr><b>Note 2&gt; The output file of the ARM SDT 2.5x</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 66869px; left: 237px;"><nobr>Select the ARM ELF image format in the Debug mode.</nobr></div>
<div style="position: absolute; top: 66896px; left: 237px;"><nobr>Select the ARM ELF image format” in the Release mode.</nobr></div>
</span></font>
<font color="#008000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(0, 128, 0);">
<div style="position: absolute; top: 66950px; left: 187px;"><nobr><b>Note 3&gt; The Read-Write address option (Link Option)</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 65931px; left: 169px;"><nobr>Step 5 (armlink option)</nobr></div>
<div style="position: absolute; top: 65958px; left: 199px;"><nobr>1. Select the ARM ELF image format from the Output tab. (See the Note 2)</nobr></div>
<div style="position: absolute; top: 65985px; left: 199px;"><nobr>2. Fill the Read-Only blank in the Entry and Base tab with 0x0c000000.</nobr></div>
<div style="position: absolute; top: 66012px; left: 226px;"><nobr>(See the note 3 regarding the Read-Write.)</nobr></div>
<div style="position: absolute; top: 66039px; left: 199px;"><nobr>3. Enter the init.o in the Object File and init in the Area Name in the </nobr></div>
<div style="position: absolute; top: 66066px; left: 226px;"><nobr>ImageLayout tab and press the Enter key.</nobr></div>
</span></font>

<div style="position: absolute; top: 67114px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="54"><b>Page 54</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 67268px; left: 236px;"><nobr>This option varies by the code size of the application program. As the <b><span class="goohl0">GP32</span></b> adopted the </nobr></div>
<div style="position: absolute; top: 67295px; left: 248px;"><nobr>8mb of SDRAM,  the size of  address should be optimized  to best reserve  the Heap </nobr></div>
<div style="position: absolute; top: 67322px; left: 248px;"><nobr>area and also should be bigger than  the code size. The last two bytes should be </nobr></div>
<div style="position: absolute; top: 67349px; left: 248px;"><nobr>terminated with 0.</nobr></div>
</span></font>

<div style="position: absolute; top: 68377px; left: 0pt;"><hr><table border="0" width="100%"><tbody><tr><td align="right" bgcolor="#eeeeee"><font face="arial,sans-serif"><a name="55"><b>Page 55</b></a></font></td></tr></tbody></table></div><font face="Times" size="3"><span style="font-size: 19px; font-family: Times;">
<div style="position: absolute; top: 68533px; left: 158px;"><nobr><b>8-2 The file format used by <b><span class="goohl0">GP32</span></b></b></nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 68592px; left: 158px;"><nobr><b>GPG File</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 68619px; left: 217px;"><nobr><b><span class="goohl0">GP32</span></b> Graphic File</nobr></div>
<div style="position: absolute; top: 68646px; left: 217px;"><nobr>0  3 </nobr></div>
<div style="position: absolute; top: 68646px; left: 276px;"><nobr>: File ID. ‘gpg ’(4byte)</nobr></div>
<div style="position: absolute; top: 68673px; left: 217px;"><nobr>4  7 </nobr></div>
<div style="position: absolute; top: 68673px; left: 276px;"><nobr>: Date size = file size – 8 (4byte)</nobr></div>
<div style="position: absolute; top: 68700px; left: 217px;"><nobr>8 </nobr></div>
<div style="position: absolute; top: 68700px; left: 276px;"><nobr>: Data</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 68754px; left: 158px;"><nobr><b>SEF File</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 68781px; left: 217px;"><nobr><b><span class="goohl0">GP32</span></b> PCM File</nobr></div>
<div style="position: absolute; top: 68808px; left: 217px;"><nobr>0  3 </nobr></div>
<div style="position: absolute; top: 68808px; left: 276px;"><nobr>: File ID. ‘sef ’(4byte)</nobr></div>
<div style="position: absolute; top: 68808px; left: 504px;"><nobr>file header chunk</nobr></div>
<div style="position: absolute; top: 68835px; left: 217px;"><nobr>4  7 </nobr></div>
<div style="position: absolute; top: 68835px; left: 276px;"><nobr>: Data size = file size – 8 (4byte)</nobr></div>
<div style="position: absolute; top: 68862px; left: 217px;"><nobr>8 </nobr></div>
<div style="position: absolute; top: 68862px; left: 276px;"><nobr>: Data</nobr></div>
<div style="position: absolute; top: 68862px; left: 474px;"><nobr>data chunk</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 68916px; left: 158px;"><nobr><b>GFT File</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 68943px; left: 217px;"><nobr><b><span class="goohl0">GP32</span></b> Font File</nobr></div>
<div style="position: absolute; top: 68970px; left: 217px;"><nobr>0  3 </nobr></div>
<div style="position: absolute; top: 68970px; left: 276px;"><nobr>: File ID. ‘gft ’(4byte)</nobr></div>
<div style="position: absolute; top: 68970px; left: 504px;"><nobr>file header chunk</nobr></div>
<div style="position: absolute; top: 68997px; left: 217px;"><nobr>4  7 </nobr></div>
<div style="position: absolute; top: 68997px; left: 276px;"><nobr>: Data size = file size – 8 (4byte)</nobr></div>
<div style="position: absolute; top: 69024px; left: 217px;"><nobr>8 </nobr></div>
<div style="position: absolute; top: 69024px; left: 276px;"><nobr>: Data</nobr></div>
<div style="position: absolute; top: 69024px; left: 474px;"><nobr>data chunk</nobr></div>
</span></font>
<font color="#ff0000" face="Times" size="3"><span style="font-size: 12px; font-family: Times; color: rgb(255, 0, 0);">
<div style="position: absolute; top: 69078px; left: 158px;"><nobr><b>GXF File</b></nobr></div>
</span></font>
<font face="Times" size="3"><span style="font-size: 12px; font-family: Times;">
<div style="position: absolute; top: 69105px; left: 217px;"><nobr><b><span class="goohl0">GP32</span></b> Application Program File</nobr></div>
<div style="position: absolute; top: 69132px; left: 217px;"><nobr>0  3 </nobr></div>
<div style="position: absolute; top: 69132px; left: 276px;"><nobr>: File ID. ‘gxf ’(4byte)</nobr></div>
<div style="position: absolute; top: 69132px; left: 504px;"><nobr>file header chunk</nobr></div>
<div style="position: absolute; top: 69159px; left: 217px;"><nobr>4  7 </nobr></div>
<div style="position: absolute; top: 69159px; left: 276px;"><nobr>: file size – 8 (4byte)</nobr></div>
<div style="position: absolute; top: 69186px; left: 217px;"><nobr>8  11</nobr></div>
<div style="position: absolute; top: 69186px; left: 276px;"><nobr>: info Header Size – (4byte) </nobr></div>
<div style="position: absolute; top: 69186px; left: 505px;"><nobr>info header chunk</nobr></div>
<div style="position: absolute; top: 69213px; left: 217px;"><nobr>12  12  : icon image flag (if 1, the icon image exists.) (1byte)</nobr></div>
<div style="position: absolute; top: 69240px; left: 217px;"><nobr>13  13  : the length of application program title= t_len (1byte)</nobr></div>
<div style="position: absolute; top: 69267px; left: 217px;"><nobr>14  13 + t_len : application program title(t_len byte)</nobr></div>
<div style="position: absolute; top: 69294px; left: 217px;"><nobr>14 + t_len  13 + t_len + 256 : icon image data (256 byte) </nobr></div>
<div style="position: absolute; top: 69321px; left: 217px;"><nobr>270 + t_len  273 + t_len : axf (ARM excutable file) data size (4byte) </nobr></div>
<div style="position: absolute; top: 69321px; left: 659px;"><nobr>data chunk</nobr></div>
<div style="position: absolute; top: 69348px; left: 217px;"><nobr>274 + t_len  : axf data</nobr></div>
</span></font>
</body></html>